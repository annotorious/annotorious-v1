function f(){return function(){}}function m(a){return function(){return this[a]}}function aa(a){return function(){return a}}var n,p=this;function ba(a,b){var c=a.split("."),d=p;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)c.length||void 0===b?d=d[e]?d[e]:d[e]={}:d[e]=b}function da(){}function ea(a){a.ac=function(){return a.he?a.he:a.he=new a}}
function fa(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ga(a){return"array"==fa(a)}function ha(a){var b=fa(a);return"array"==b||"object"==b&&"number"==typeof a.length}function q(a){return"string"==typeof a}function r(a){return"function"==fa(a)}function ia(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function ka(a){return a[la]||(a[la]=++ma)}var la="closure_uid_"+(1E9*Math.random()>>>0),ma=0;function na(a,b,c){return a.call.apply(a.bind,arguments)}
function oa(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function pa(a,b,c){pa=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?na:oa;return pa.apply(null,arguments)}
function qa(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}}var ra=Date.now||function(){return+new Date};function t(a,b){function c(){}c.prototype=b.prototype;a.F=b.prototype;a.prototype=new c;a.prototype.constructor=a};function sa(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}function ta(a){if(!ua.test(a))return a;-1!=a.indexOf("\x26")&&(a=a.replace(va,"\x26amp;"));-1!=a.indexOf("\x3c")&&(a=a.replace(wa,"\x26lt;"));-1!=a.indexOf("\x3e")&&(a=a.replace(xa,"\x26gt;"));-1!=a.indexOf('"')&&(a=a.replace(ya,"\x26quot;"));return a}var va=/&/g,wa=/</g,xa=/>/g,ya=/\"/g,ua=/[&<>\"]/;function za(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})}
function Aa(a){var b=q(void 0)?"undefined".replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"):"\\s";return a.replace(RegExp("(^"+(b?"|["+b+"]+":"")+")([a-z])","g"),function(a,b,e){return b+e.toUpperCase()})};var x=Array.prototype,Ba=x.indexOf?function(a,b,c){return x.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(q(a))return q(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},y=x.forEach?function(a,b,c){x.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=q(a)?a.split(""):a,g=0;g<d;g++)g in e&&b.call(c,e[g],g,a)},Ca=x.filter?function(a,b,c){return x.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],g=0,h=q(a)?
a.split(""):a,k=0;k<d;k++)if(k in h){var l=h[k];b.call(c,l,k,a)&&(e[g++]=l)}return e},Da=x.map?function(a,b,c){return x.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),g=q(a)?a.split(""):a,h=0;h<d;h++)h in g&&(e[h]=b.call(c,g[h],h,a));return e},Ea=x.every?function(a,b,c){return x.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=q(a)?a.split(""):a,g=0;g<d;g++)if(g in e&&!b.call(c,e[g],g,a))return!1;return!0};
function Fa(a,b){var c;a:{c=a.length;for(var d=q(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){c=e;break a}c=-1}return 0>c?null:q(a)?a.charAt(c):a[c]}function Ga(a,b){return 0<=Ba(a,b)}function A(a,b){var c=Ba(a,b),d;(d=0<=c)&&x.splice.call(a,c,1);return d}function Ha(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}
function Ia(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c],e;if(ga(d)||(e=ha(d))&&Object.prototype.hasOwnProperty.call(d,"callee"))a.push.apply(a,d);else if(e)for(var g=a.length,h=d.length,k=0;k<h;k++)a[g+k]=d[k];else a.push(d)}}function Ja(a,b,c){return 2>=arguments.length?x.slice.call(a,b):x.slice.call(a,b,c)}function Ka(a,b){x.sort.call(a,b||La)}function La(a,b){return a>b?1:a<b?-1:0};var Ma,Na,Oa,Ra,Sa;function Ta(){return p.navigator?p.navigator.userAgent:null}function Ua(){return p.navigator}Ra=Oa=Na=Ma=!1;var Va;if(Va=Ta()){var Wa=Ua();Ma=0==Va.lastIndexOf("Opera",0);Na=!Ma&&(-1!=Va.indexOf("MSIE")||-1!=Va.indexOf("Trident"));Oa=!Ma&&-1!=Va.indexOf("WebKit");Ra=!Ma&&!Oa&&!Na&&"Gecko"==Wa.product}var B=Ma,C=Na,D=Ra,E=Oa,Xa=Ua();Sa=-1!=(Xa&&Xa.platform||"").indexOf("Mac");var Ya=!!Ua()&&-1!=(Ua().appVersion||"").indexOf("X11");
function Za(){var a=p.document;return a?a.documentMode:void 0}var $a;a:{var ab="",bb;if(B&&p.opera)var cb=p.opera.version,ab="function"==typeof cb?cb():cb;else if(D?bb=/rv\:([^\);]+)(\)|;)/:C?bb=/\b(?:MSIE|rv)\s+([^\);]+)(\)|;)/:E&&(bb=/WebKit\/(\S+)/),bb)var db=bb.exec(Ta()),ab=db?db[1]:"";if(C){var eb=Za();if(eb>parseFloat(ab)){$a=String(eb);break a}}$a=ab}var fb={};
function F(a){var b;if(!(b=fb[a])){b=0;for(var c=sa(String($a)).split("."),d=sa(String(a)).split("."),e=Math.max(c.length,d.length),g=0;0==b&&g<e;g++){var h=c[g]||"",k=d[g]||"",l=RegExp("(\\d*)(\\D*)","g"),s=RegExp("(\\d*)(\\D*)","g");do{var w=l.exec(h)||["","",""],u=s.exec(k)||["","",""];if(0==w[0].length&&0==u[0].length)break;b=((0==w[1].length?0:parseInt(w[1],10))<(0==u[1].length?0:parseInt(u[1],10))?-1:(0==w[1].length?0:parseInt(w[1],10))>(0==u[1].length?0:parseInt(u[1],10))?1:0)||((0==w[2].length)<
(0==u[2].length)?-1:(0==w[2].length)>(0==u[2].length)?1:0)||(w[2]<u[2]?-1:w[2]>u[2]?1:0)}while(0==b)}b=fb[a]=0<=b}return b}var jb=p.document,kb=jb&&C?Za()||("CSS1Compat"==jb.compatMode?parseInt($a,10):5):void 0;var lb,mb=!C||C&&9<=kb;!D&&!C||C&&C&&9<=kb||D&&F("1.9.1");C&&F("9");var nb=C||B||E;function ob(a){a=a.className;return q(a)&&a.match(/\S+/g)||[]}function pb(a,b){var c=ob(a),d=Ja(arguments,1),e=c.length+d.length;qb(c,d);a.className=c.join(" ");return c.length==e}function rb(a,b){var c=ob(a),d=Ja(arguments,1),e=sb(c,d);a.className=e.join(" ");return e.length==c.length-d.length}function qb(a,b){for(var c=0;c<b.length;c++)Ga(a,b[c])||a.push(b[c])}function sb(a,b){return Ca(a,function(a){return!Ga(b,a)})}
function tb(a,b,c){var d=ob(a);q(b)?A(d,b):ga(b)&&(d=sb(d,b));q(c)&&!Ga(d,c)?d.push(c):ga(c)&&qb(d,c);a.className=d.join(" ")};function G(a,b){this.x=void 0!==a?a:0;this.y=void 0!==b?b:0}G.prototype.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};function ub(a,b){this.width=a;this.height=b}ub.prototype.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};function vb(a,b){for(var c in a)b.call(void 0,a[c],c,a)}var wb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xb(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var g=0;g<wb.length;g++)c=wb[g],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function yb(a){return a?new zb(H(a)):lb||(lb=new zb)}function Ab(){var a=document;a.querySelectorAll&&a.querySelector?a=a.querySelector(".openseadragon-container"):(a=document,a=(a.querySelectorAll&&a.querySelector?a.querySelectorAll(".openseadragon-container"):a.getElementsByClassName?a.getElementsByClassName("openseadragon-container"):Bb())[0]);return a||null}
function Bb(){var a,b,c,d;a=document;if(a.querySelectorAll&&a.querySelector)return a.querySelectorAll(".openseadragon-container");if(a.getElementsByClassName){var e=a.getElementsByClassName("openseadragon-container");return e}e=a.getElementsByTagName("*");d={};for(b=c=0;a=e[b];b++){var g=a.className;"function"==typeof g.split&&Ga(g.split(/\s+/),"openseadragon-container")&&(d[c++]=a)}d.length=c;return d}
function Cb(a,b){vb(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:d in Db?a.setAttribute(Db[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})}var Db={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};
function Eb(a,b,c){var d=arguments,e=document,g=d[0],h=d[1];if(!mb&&h&&(h.name||h.type)){g=["\x3c",g];h.name&&g.push(' name\x3d"',ta(h.name),'"');if(h.type){g.push(' type\x3d"',ta(h.type),'"');var k={};xb(k,h);delete k.type;h=k}g.push("\x3e");g=g.join("")}g=e.createElement(g);h&&(q(h)?g.className=h:ga(h)?pb.apply(null,[g].concat(h)):Cb(g,h));2<d.length&&Fb(e,g,d,2);return g}
function Fb(a,b,c,d){function e(c){c&&b.appendChild(q(c)?a.createTextNode(c):c)}for(;d<c.length;d++){var g=c[d];if(!ha(g)||ia(g)&&0<g.nodeType)e(g);else{var h;a:{if(g&&"number"==typeof g.length){if(ia(g)){h="function"==typeof g.item||"string"==typeof g.item;break a}if(r(g)){h="function"==typeof g.item;break a}}h=!1}y(h?Ha(g):g,e)}}}function Gb(a){for(var b;b=a.firstChild;)a.removeChild(b)}function Hb(a,b){b.parentNode&&b.parentNode.insertBefore(a,b)}
function Ib(a){a&&a.parentNode&&a.parentNode.removeChild(a)}function Jb(a,b){var c=b.parentNode;c&&c.replaceChild(a,b)}function Kb(a){return ia(a)&&1==a.nodeType}function Lb(a){if(nb&&!(C&&F("9")&&!F("10")&&p.SVGElement&&a instanceof p.SVGElement))return a.parentElement;a=a.parentNode;return Kb(a)?a:null}
function Mb(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function H(a){return 9==a.nodeType?a:a.ownerDocument||a.document}
function Nb(a,b){if("textContent"in a)a.textContent=b;else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else Gb(a),a.appendChild(H(a).createTextNode(String(b)))}function Ob(a){var b=a.getAttributeNode("tabindex");return b&&b.specified?(a=a.tabIndex,"number"==typeof a&&0<=a&&32768>a):!1}function zb(a){this.ba=a||p.document||document}n=zb.prototype;n.Xd=yb;n.g=function(a){return q(a)?this.ba.getElementById(a):a};n.D=Cb;
n.createElement=function(a){return this.ba.createElement(a)};n.createTextNode=function(a){return this.ba.createTextNode(String(a))};function Pb(a){var b=a.ba;a=E?b.body:b.documentElement;b=b.parentWindow||b.defaultView;return C&&F("10")&&b.pageYOffset!=a.scrollTop?new G(a.scrollLeft,a.scrollTop):new G(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop)}n.appendChild=function(a,b){a.appendChild(b)};n.append=function(a,b){Fb(H(a),a,arguments,1)};n.contains=Mb;function Tb(){return!0};/*
 Portions of this code are from the Dojo Toolkit, received by
 The Closure Library Authors under the BSD license. All other code is
 Copyright 2005-2009 The Closure Library Authors. All Rights Reserved.

The "New" BSD License:

Copyright (c) 2005-2009, The Dojo Foundation
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:

 Redistributions of source code must retain the above copyright notice, this
    list of conditions and the following disclaimer.
 Redistributions in binary form must reproduce the above copyright notice,
    this list of conditions and the following disclaimer in the documentation
    and/or other materials provided with the distribution.
 Neither the name of the Dojo Foundation nor the names of its contributors
    may be used to endorse or promote products derived from this software
    without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE
FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/
var I=function(){function a(a,c){if(!a)return[];if(a.constructor==Array)return a;if(!q(a))return[a];if(q(c)&&(c=q(c)?document.getElementById(c):c,!c))return[];c=c||document;var e=c.ownerDocument||c.documentElement;Pa=c.contentType&&"application/xml"==c.contentType||B&&(c.doctype||"[object XMLDocument]"==e.toString())||!!e&&(C?e.xml:c.xmlVersion||e.xmlVersion);return(e=d(a)(c))&&e.Hc?e:b(e)}function b(a){if(a&&a.Hc)return a;var b=[];if(!a||!a.length)return b;a[0]&&b.push(a[0]);if(2>a.length)return b;
ca++;if(C&&Pa){var c=ca+"";a[0].setAttribute("_zipIdx",c);for(var d=1,e;e=a[d];d++)a[d].getAttribute("_zipIdx")!=c&&b.push(e),e.setAttribute("_zipIdx",c)}else if(C&&a.Ae)try{for(d=1;e=a[d];d++)Qb(e)&&b.push(e)}catch(g){}else for(a[0]&&(a[0]._zipIdx=ca),d=1;e=a[d];d++)a[d]._zipIdx!=ca&&b.push(e),e._zipIdx=ca;return b}function c(a,b){if(!b)return 1;var c=hf(a);return b[c]?0:b[c]=1}function d(a,b){if(zd){var c=Ad[a];if(c&&!b)return c}if(c=Bd[a])return c;var c=a.charAt(0),g=-1==a.indexOf(" ");0<=a.indexOf("#")&&
g&&(b=!0);if(!zd||b||-1!="\x3e~+".indexOf(c)||C&&-1!=a.indexOf(":")||Cd&&0<=a.indexOf(".")||-1!=a.indexOf(":contains")||-1!=a.indexOf("|\x3d")){var h=a.split(/\s*,\s*/);return Bd[a]=2>h.length?e(a):function(a){for(var b=0,c=[],d;d=h[b++];)c=c.concat(e(d)(a));return c}}var k=0<="\x3e~+".indexOf(a.charAt(a.length-1))?a+" *":a;return Ad[a]=function(b){try{if(9!=b.nodeType&&!g)throw"";var c=b.querySelectorAll(k);C?c.Ae=!0:c.Hc=!0;return c}catch(e){return d(a,!0)(b)}}}function e(a){var b=Dd(sa(a));if(1==
b.length){var c=g(b[0]);return function(a){if(a=c(a,[]))a.Hc=!0;return a}}return function(a){a=gb(a);for(var c,d,e=b.length,h,k,sc=0;sc<e;sc++){k=[];c=b[sc];d=a.length-1;0<d&&(h={},k.Hc=!0);d=g(c);for(var l=0;c=a[l];l++)d(c,k,h);if(!k.length)break;a=k}return k}}function g(a){var b=Ed[a.zb];if(b)return b;var c=a.ge,c=c?c.Ic:"",d=s(a,{Y:1}),e="*"==a.aa,g=document.getElementsByClassName;if(c)g={Y:1},e&&(g.aa=1),d=s(a,g),"+"==c?b=l(d):"~"==c?b=k(d):"\x3e"==c&&(b=h(d));else if(a.id)d=!a.je&&e?Tb:s(a,{Y:1,
id:1}),b=function(b,c){var e=yb(b).g(a.id),g;if((g=e&&d(e))&&!(g=9==b.nodeType)){for(g=e.parentNode;g&&g!=b;)g=g.parentNode;g=!!g}if(g)return gb(e,c)};else if(g&&/\{\s*\[native code\]\s*\}/.test(String(g))&&a.za.length&&!Cd)var d=s(a,{Y:1,za:1,id:1}),u=a.za.join(" "),b=function(a,b){for(var c=gb(0,b),e,g=0,h=a.getElementsByClassName(u);e=h[g++];)d(e,a)&&c.push(e);return c};else e||a.je?(d=s(a,{Y:1,aa:1,id:1}),b=function(b,c){for(var e=gb(0,c),g,h=0,k=b.getElementsByTagName(a.ld());g=k[h++];)d(g,b)&&
e.push(g);return e}):b=function(b,c){for(var d=gb(0,c),e,g=0,h=b.getElementsByTagName(a.ld());e=h[g++];)d.push(e);return d};return Ed[a.zb]=b}function h(a){a=a||Tb;return function(b,d,e){for(var g=0,h=b[Fd];b=h[g++];)hb(b)&&((!e||c(b,e))&&a(b,g))&&d.push(b);return d}}function k(a){return function(b,d,e){for(b=b[ib];b;){if(hb(b)){if(e&&!c(b,e))break;a(b)&&d.push(b)}b=b[ib]}return d}}function l(a){return function(b,d,e){for(;b=b[ib];)if(!Rb||Qb(b)){e&&!c(b,e)||!a(b)||d.push(b);break}return d}}function s(a,
b){if(!a)return Tb;b=b||{};var c=null;b.Y||(c=Qa(c,Qb));b.aa||"*"!=a.aa&&(c=Qa(c,function(b){return b&&b.tagName==a.ld()}));b.za||y(a.za,function(a,b){var d=RegExp("(?:^|\\s)"+a+"(?:\\s|$)");c=Qa(c,function(a){return d.test(a.className)});c.count=b});b.fb||y(a.fb,function(a){var b=a.name;tc[b]&&(c=Qa(c,tc[b](b,a.value)))});b.qc||y(a.qc,function(a){var b,d=a.cd;a.type&&Gd[a.type]?b=Gd[a.type](d,a.rd):d.length&&(b=jf(d));b&&(c=Qa(c,b))});b.id||a.id&&(c=Qa(c,function(b){return!!b&&b.id==a.id}));c||"default"in
b||(c=Tb);return c}function w(a){return Sb(a)%2}function u(a){return!(Sb(a)%2)}function Sb(a){var b=a.parentNode,c=0,d=b[Fd],e=a._i||-1,g=b._l||-1;if(!d)return-1;d=d.length;if(g==d&&0<=e&&0<=g)return e;b._l=d;e=-1;for(b=b.firstElementChild||b.firstChild;b;b=b[ib])hb(b)&&(b._i=++c,a===b&&(e=c));return e}function Hd(a){for(;a=a[ib];)if(hb(a))return!1;return!0}function Id(a){for(;a=a[kf];)if(hb(a))return!1;return!0}function ja(a,b){return a?"class"==b?a.className||"":"for"==b?a.htmlFor||"":"style"==
b?a.style.cssText||"":(Pa?a.getAttribute(b):a.getAttribute(b,2))||"":""}function Qb(a){return 1==a.nodeType}function Qa(a,b){return a?b?function(){return a.apply(window,arguments)&&b.apply(window,arguments)}:a:b}function Dd(a){function b(){0<=s&&(v.id=c(s,z).replace(/\\/g,""),s=-1);if(0<=u){var a=u==z?null:c(u,z);0>"\x3e~+".indexOf(a)?v.aa=a:v.Ic=a;u=-1}0<=l&&(v.za.push(c(l+1,z).replace(/\\/g,"")),l=-1)}function c(b,d){return sa(a.slice(b,d))}a=0<="\x3e~+".indexOf(a.slice(-1))?a+" * ":a+" ";for(var d=
[],e=-1,g=-1,h=-1,k=-1,l=-1,s=-1,u=-1,w="",O="",ja,z=0,ca=a.length,v=null,P=null;w=O,O=a.charAt(z),z<ca;z++)"\\"!=w&&(v||(ja=z,v={zb:null,fb:[],qc:[],za:[],aa:null,Ic:null,id:null,ld:function(){return Pa?this.Qe:this.aa}},u=z),0<=e?"]"==O?(P.cd?P.rd=c(h||e+1,z):P.cd=c(e+1,z),!(e=P.rd)||'"'!=e.charAt(0)&&"'"!=e.charAt(0)||(P.rd=e.slice(1,-1)),v.qc.push(P),P=null,e=h=-1):"\x3d"==O&&(h=0<="|~^$*".indexOf(w)?w:"",P.type=h+O,P.cd=c(e+1,z-h.length),h=z+1):0<=g?")"==O&&(0<=k&&(P.value=c(g+1,z)),k=g=-1):
"#"==O?(b(),s=z+1):"."==O?(b(),l=z):":"==O?(b(),k=z):"["==O?(b(),e=z,P={}):"("==O?(0<=k&&(P={name:c(k+1,z),value:null},v.fb.push(P)),g=z):" "==O&&w!=O&&(b(),0<=k&&v.fb.push({name:c(k+1,z)}),v.je=v.fb.length||v.qc.length||v.za.length,v.kf=v.zb=c(ja,z),v.Qe=v.aa=v.Ic?null:v.aa||"*",v.aa&&(v.aa=v.aa.toUpperCase()),d.length&&d[d.length-1].Ic&&(v.ge=d.pop(),v.zb=v.ge.zb+" "+v.zb),d.push(v),v=null));return d}function gb(a,b){var c=b||[];a&&c.push(a);return c}var Cd=E&&"BackCompat"==document.compatMode,
Fd=document.firstChild.children?"children":"childNodes",Pa=!1,Gd={"*\x3d":function(a,b){return function(c){return 0<=ja(c,a).indexOf(b)}},"^\x3d":function(a,b){return function(c){return 0==ja(c,a).indexOf(b)}},"$\x3d":function(a,b){return function(c){c=" "+ja(c,a);return c.lastIndexOf(b)==c.length-b.length}},"~\x3d":function(a,b){var c=" "+b+" ";return function(b){return 0<=(" "+ja(b,a)+" ").indexOf(c)}},"|\x3d":function(a,b){b=" "+b;return function(c){c=" "+ja(c,a);return c==b||0==c.indexOf(b+"-")}},
"\x3d":function(a,b){return function(c){return ja(c,a)==b}}},Rb="undefined"==typeof document.firstChild.nextElementSibling,ib=Rb?"nextSibling":"nextElementSibling",kf=Rb?"previousSibling":"previousElementSibling",hb=Rb?Qb:Tb,tc={checked:function(){return function(a){return a.checked||a.attributes.checked}},"first-child":function(){return Id},"last-child":function(){return Hd},"only-child":function(){return function(a){return Id(a)&&Hd(a)?!0:!1}},empty:function(){return function(a){var b=a.childNodes;
for(a=a.childNodes.length-1;0<=a;a--){var c=b[a].nodeType;if(1===c||3==c)return!1}return!0}},contains:function(a,b){var c=b.charAt(0);if('"'==c||"'"==c)b=b.slice(1,-1);return function(a){return 0<=a.innerHTML.indexOf(b)}},not:function(a,b){var c=Dd(b)[0],d={Y:1};"*"!=c.aa&&(d.aa=1);c.za.length||(d.za=1);var e=s(c,d);return function(a){return!e(a)}},"nth-child":function(a,b){if("odd"==b)return w;if("even"==b)return u;if(-1!=b.indexOf("n")){var c=b.split("n",2),d=c[0]?"-"==c[0]?-1:parseInt(c[0],10):
1,e=c[1]?parseInt(c[1],10):0,g=0,h=-1;0<d?0>e?e=e%d&&d+e%d:0<e&&(e>=d&&(g=e-e%d),e%=d):0>d&&(d*=-1,0<e&&(h=e,e%=d));if(0<d)return function(a){a=Sb(a);return a>=g&&(0>h||a<=h)&&a%d==e};b=e}var k=parseInt(b,10);return function(a){return Sb(a)==k}}},jf=C?function(a){var b=a.toLowerCase();"class"==b&&(a="className");return function(c){return Pa?c.getAttribute(a):c[a]||c[b]}}:function(a){return function(b){return b&&b.getAttribute&&b.hasAttribute(a)}},Ed={},Bd={},Ad={},zd=!!document.querySelectorAll&&
(!E||F("526")),ca=0,hf=C?function(a){return Pa?a.getAttribute("_uid")||a.setAttribute("_uid",++ca)||ca:a.uniqueID}:function(a){return a._uid||(a._uid=++ca)};a.fb=tc;return a}();ba("goog.dom.query",I);ba("goog.dom.query.pseudos",I.fb);var Ub=!C||C&&9<=kb,Vb=!C||C&&9<=kb,Wb=C&&!F("9");!E||F("528");D&&F("1.9b")||C&&F("8")||B&&F("9.5")||E&&F("528");D&&!F("8")||C&&F("9");function Xb(){0!=Yb&&(this.df=Error().stack,Zb[ka(this)]=this)}var Yb=0,Zb={};Xb.prototype.tc=!1;Xb.prototype.qb=function(){if(!this.tc&&(this.tc=!0,this.S(),0!=Yb)){var a=ka(this);delete Zb[a]}};Xb.prototype.S=function(){if(this.dc)for(;this.dc.length;)this.dc.shift()()};function $b(a){a&&"function"==typeof a.qb&&a.qb()};function ac(a,b){this.type=a;this.currentTarget=this.target=b}n=ac.prototype;n.S=f();n.qb=f();n.Na=!1;n.defaultPrevented=!1;n.ne=!0;n.stopPropagation=function(){this.Na=!0};n.preventDefault=function(){this.defaultPrevented=!0;this.ne=!1};function bc(a){a.preventDefault()};function cc(a){cc[" "](a);return a}cc[" "]=da;function dc(a,b){a&&this.init(a,b)}t(dc,ac);var ec=[1,4,2];n=dc.prototype;n.target=null;n.relatedTarget=null;n.offsetX=0;n.offsetY=0;n.clientX=0;n.clientY=0;n.screenX=0;n.screenY=0;n.button=0;n.keyCode=0;n.charCode=0;n.ctrlKey=!1;n.altKey=!1;n.shiftKey=!1;n.metaKey=!1;n.vd=!1;n.A=null;
n.init=function(a,b){var c=this.type=a.type;ac.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(D){var e;a:{try{cc(d.nodeName);e=!0;break a}catch(g){}e=!1}e||(d=null)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=E||void 0!==a.offsetX?a.offsetX:a.layerX;this.offsetY=E||void 0!==a.offsetY?a.offsetY:a.layerY;this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:
a.pageY;this.screenX=a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.vd=Sa?a.metaKey:a.ctrlKey;this.state=a.state;this.A=a;a.defaultPrevented&&this.preventDefault();delete this.Na};function fc(a){return(Ub?0==a.A.button:"click"==a.type?!0:!!(a.A.button&ec[0]))&&!(E&&Sa&&a.ctrlKey)}
n.stopPropagation=function(){dc.F.stopPropagation.call(this);this.A.stopPropagation?this.A.stopPropagation():this.A.cancelBubble=!0};n.preventDefault=function(){dc.F.preventDefault.call(this);var a=this.A;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Wb)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};n.Be=m("A");n.S=f();var gc="closure_listenable_"+(1E6*Math.random()|0),hc=0;function ic(a,b,c,d,e,g){this.ua=a;this.le=b;this.src=c;this.type=d;this.capture=!!e;this.sa=g;this.key=++hc;this.Ca=this.mb=!1}function jc(a){a.Ca=!0;a.ua=null;a.le=null;a.src=null;a.sa=null};var kc={},J={},lc={},mc={};
function K(a,b,c,d,e){if(ga(b)){for(var g=0;g<b.length;g++)K(a,b[g],c,d,e);return null}c=nc(c);if(a&&a[gc])a=a.v(b,c,d,e);else a:{if(!b)throw Error("Invalid event type");d=!!d;var h=J;b in h||(h[b]={X:0});h=h[b];d in h||(h[d]={X:0},h.X++);var h=h[d],g=ka(a),k;if(h[g]){k=h[g];for(var l=0;l<k.length;l++)if(h=k[l],h.ua==c&&h.sa==e){if(h.Ca)break;k[l].mb=!1;a=k[l];break a}}else k=h[g]=[],h.X++;l=oc();h=new ic(c,l,a,b,d,e);h.mb=!1;l.src=a;l.ua=h;k.push(h);lc[g]||(lc[g]=[]);lc[g].push(h);a.addEventListener?
a.addEventListener(b,l,d):a.attachEvent(b in mc?mc[b]:mc[b]="on"+b,l);a=kc[h.key]=h}return a}function oc(){var a=pc,b=Vb?function(c){return a.call(b.src,b.ua,c)}:function(c){c=a.call(b.src,b.ua,c);if(!c)return c};return b}function qc(a,b,c,d,e){if(ga(b))for(var g=0;g<b.length;g++)qc(a,b[g],c,d,e);else if(c=nc(c),a&&a[gc])a.Ea(b,c,d,e);else if(d=!!d,a=rc(a,b,d))for(g=0;g<a.length;g++)if(a[g].ua==c&&a[g].capture==d&&a[g].sa==e){L(a[g]);break}}
function L(a){if("number"==typeof a||!a||a.Ca)return!1;var b=a.src;if(b&&b[gc])return uc(b.Ga,a);var c=a.type,d=a.le,e=a.capture;b.removeEventListener?b.removeEventListener(c,d,e):b.detachEvent&&b.detachEvent(c in mc?mc[c]:mc[c]="on"+c,d);b=ka(b);lc[b]&&(d=lc[b],A(d,a),0==d.length&&delete lc[b]);jc(a);if(d=J[c][e][b])A(d,a),0==d.length&&(delete J[c][e][b],J[c][e].X--),0==J[c][e].X&&(delete J[c][e],J[c].X--),0==J[c].X&&delete J[c];delete kc[a.key];return!0}
function rc(a,b,c){var d=J;return b in d&&(d=d[b],c in d&&(d=d[c],a=ka(a),d[a]))?d[a]:null}function vc(a,b,c){var d=1;b=ka(b);if(a[b])for(a=Ha(a[b]),b=0;b<a.length;b++){var e=a[b];e&&!e.Ca&&(d&=!1!==wc(e,c))}return Boolean(d)}function wc(a,b){var c=a.ua,d=a.sa||a.src;a.mb&&L(a);return c.call(d,b)}
function pc(a,b){if(a.Ca)return!0;var c=a.type,d=J;if(!(c in d))return!0;var d=d[c],e,g;if(!Vb){if(!(c=b))a:{for(var c=["window","event"],h=p;e=c.shift();)if(null!=h[e])h=h[e];else{c=null;break a}c=h}e=c;c=!0 in d;h=!1 in d;if(c){if(0>e.keyCode||void 0!=e.returnValue)return!0;a:{var k=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(l){k=!0}if(k||void 0==e.returnValue)e.returnValue=!0}}k=new dc;k.init(e,this);e=!0;try{if(c){for(var s=[],w=k.currentTarget;w;w=w.parentNode)s.push(w);g=d[!0];for(var u=
s.length-1;!k.Na&&0<=u;u--)k.currentTarget=s[u],e&=vc(g,s[u],k);if(h)for(g=d[!1],u=0;!k.Na&&u<s.length;u++)k.currentTarget=s[u],e&=vc(g,s[u],k)}else e=wc(a,k)}finally{s&&(s.length=0)}return e}d=new dc(b,this);return e=wc(a,d)}var xc="__closure_events_fn_"+(1E9*Math.random()>>>0);function nc(a){return r(a)?a:a[xc]||(a[xc]=function(b){return a.handleEvent(b)})};function yc(a){Xb.call(this);this.de=a;this.t={}}t(yc,Xb);var zc=[];n=yc.prototype;n.v=function(a,b,c,d,e){ga(b)||(zc[0]=b,b=zc);for(var g=0;g<b.length;g++){var h=K(a,b[g],c||this,d||!1,e||this.de||this);this.t[h.key]=h}return this};
n.Ea=function(a,b,c,d,e){if(ga(b))for(var g=0;g<b.length;g++)this.Ea(a,b[g],c,d,e);else{a:if(e=e||this.de||this,d=!!d,c=nc(c||this),a&&a[gc])a=a.kd(b,c,d,e);else{if(a=rc(a,b,d))for(b=0;b<a.length;b++)if(!a[b].Ca&&a[b].ua==c&&a[b].capture==d&&a[b].sa==e){a=a[b];break a}a=null}a&&(L(a),delete this.t[a.key])}return this};n.Oa=function(){vb(this.t,L);this.t={}};n.S=function(){yc.F.S.call(this);this.Oa()};n.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function Ac(a){this.src=a;this.$={};this.Pc=0}Ac.prototype.add=function(a,b,c,d,e){var g=this.$[a];g||(g=this.$[a]=[],this.Pc++);var h=Bc(g,b,d,e);-1<h?(a=g[h],c||(a.mb=!1)):(a=new ic(b,null,this.src,a,!!d,e),a.mb=c,g.push(a));return a};Ac.prototype.remove=function(a,b,c,d){if(!(a in this.$))return!1;var e=this.$[a];b=Bc(e,b,c,d);return-1<b?(jc(e[b]),x.splice.call(e,b,1),0==e.length&&(delete this.$[a],this.Pc--),!0):!1};
function uc(a,b){var c=b.type;if(!(c in a.$))return!1;var d=A(a.$[c],b);d&&(jc(b),0==a.$[c].length&&(delete a.$[c],a.Pc--));return d}Ac.prototype.Oa=function(a){var b=0,c;for(c in this.$)if(!a||c==a){for(var d=this.$[c],e=0;e<d.length;e++)++b,d[e].Ca=!0;delete this.$[c];this.Pc--}return b};Ac.prototype.kd=function(a,b,c,d){a=this.$[a];var e=-1;a&&(e=Bc(a,b,c,d));return-1<e?a[e]:null};
function Bc(a,b,c,d){for(var e=0;e<a.length;++e){var g=a[e];if(!g.Ca&&g.ua==b&&g.capture==!!c&&g.sa==d)return e}return-1};function Cc(){Xb.call(this);this.Ga=new Ac(this);this.ye=this}t(Cc,Xb);Cc.prototype[gc]=!0;n=Cc.prototype;n.Lc=null;n.Bd=function(a){this.Lc=a};n.addEventListener=function(a,b,c,d){K(this,a,b,c,d)};n.removeEventListener=function(a,b,c,d){qc(this,a,b,c,d)};
n.dispatchEvent=function(a){var b,c=this.Lc;if(c)for(b=[];c;c=c.Lc)b.push(c);var c=this.ye,d=a.type||a;if(q(a))a=new ac(a,c);else if(a instanceof ac)a.target=a.target||c;else{var e=a;a=new ac(d,c);xb(a,e)}var e=!0,g;if(b)for(var h=b.length-1;!a.Na&&0<=h;h--)g=a.currentTarget=b[h],e=Dc(g,d,!0,a)&&e;a.Na||(g=a.currentTarget=c,e=Dc(g,d,!0,a)&&e,a.Na||(e=Dc(g,d,!1,a)&&e));if(b)for(h=0;!a.Na&&h<b.length;h++)g=a.currentTarget=b[h],e=Dc(g,d,!1,a)&&e;return e};
n.S=function(){Cc.F.S.call(this);this.Ga&&this.Ga.Oa(void 0);this.Lc=null};n.v=function(a,b,c,d){return this.Ga.add(a,b,!1,c,d)};n.Ea=function(a,b,c,d){return this.Ga.remove(a,b,c,d)};function Dc(a,b,c,d){b=a.Ga.$[b];if(!b)return!0;b=Ha(b);for(var e=!0,g=0;g<b.length;++g){var h=b[g];if(h&&!h.Ca&&h.capture==c){var k=h.ua,l=h.sa||h.src;h.mb&&uc(a.Ga,h);e=!1!==k.call(l,d)&&e}}return e&&!1!=d.ne}n.kd=function(a,b,c,d){return this.Ga.kd(a,b,c,d)};function Ec(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}Ec.prototype.contains=function(a){return this&&a?a instanceof Ec?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom:!1};Ec.prototype.round=function(){this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=Math.round(this.left);return this};function Fc(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}Fc.prototype.contains=function(a){return a instanceof Fc?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};Fc.prototype.round=function(){this.left=Math.round(this.left);this.top=Math.round(this.top);this.width=Math.round(this.width);this.height=Math.round(this.height);return this};function M(a,b,c){q(b)?Gc(a,c,b):vb(b,qa(Gc,a))}function Gc(a,b,c){(c=Hc(a,c))&&(a.style[c]=b)}function Hc(a,b){var c=za(b);if(void 0===a.style[c]){var d=(E?"Webkit":D?"Moz":C?"ms":B?"O":null)+Aa(b);if(void 0!==a.style[d])return d}return c}function Ic(a,b){var c=a.style[za(b)];return"undefined"!==typeof c?c:a.style[Hc(a,b)]||""}function N(a,b){var c=H(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,null))?c[b]||c.getPropertyValue(b)||"":""}
function Jc(a,b){return N(a,b)||(a.currentStyle?a.currentStyle[b]:null)||a.style&&a.style[b]}function Kc(a,b,c){var d,e=D&&(Sa||Ya)&&F("1.9");b instanceof G?(d=b.x,b=b.y):(d=b,b=c);a.style.left=Lc(d,e);a.style.top=Lc(b,e)}function Mc(a){var b;try{b=a.getBoundingClientRect()}catch(c){return{left:0,top:0,right:0,bottom:0}}C&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}
function Nc(a){if(C&&!(C&&8<=kb))return a.offsetParent;var b=H(a),c=Jc(a,"position"),d="fixed"==c||"absolute"==c;for(a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=Jc(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return null}
function Oc(a){var b,c=H(a),d=Jc(a,"position"),e=D&&c.getBoxObjectFor&&!a.getBoundingClientRect&&"absolute"==d&&(b=c.getBoxObjectFor(a))&&(0>b.screenX||0>b.screenY),g=new G(0,0),h;b=c?H(c):document;(h=!C)||(h=C&&9<=kb)||(yb(b),h=!0);h=h?b.documentElement:b.body;if(a==h)return g;if(a.getBoundingClientRect)b=Mc(a),a=Pb(yb(c)),g.x=b.left+a.x,g.y=b.top+a.y;else if(c.getBoxObjectFor&&!e)b=c.getBoxObjectFor(a),a=c.getBoxObjectFor(h),g.x=b.screenX-a.screenX,g.y=b.screenY-a.screenY;else{e=a;do{g.x+=e.offsetLeft;
g.y+=e.offsetTop;e!=a&&(g.x+=e.clientLeft||0,g.y+=e.clientTop||0);if(E&&"fixed"==Jc(e,"position")){g.x+=c.body.scrollLeft;g.y+=c.body.scrollTop;break}e=e.offsetParent}while(e&&e!=a);if(B||E&&"absolute"==d)g.y-=c.body.offsetTop;for(e=a;(e=Nc(e))&&e!=c.body&&e!=h;)g.x-=e.scrollLeft,B&&"TR"==e.tagName||(g.y-=e.scrollTop)}return g}function Pc(a,b){var c=Qc(a),d=Qc(b);return new G(c.x-d.x,c.y-d.y)}
function Qc(a){if(1==a.nodeType){var b;if(a.getBoundingClientRect)b=Mc(a),b=new G(b.left,b.top);else{b=Pb(yb(a));var c=Oc(a);b=new G(c.x-b.x,c.y-b.y)}if(D&&!F(12)){var d;C?d="-ms-transform":E?d="-webkit-transform":B?d="-o-transform":D&&(d="-moz-transform");var e;d&&(e=Jc(a,d));e||(e=Jc(a,"transform"));a=e?(a=e.match(Rc))?new G(parseFloat(a[1]),parseFloat(a[2])):new G(0,0):new G(0,0);a=new G(b.x+a.x,b.y+a.y)}else a=b;return a}d=r(a.Be);e=a;a.targetTouches?e=a.targetTouches[0]:d&&a.A.targetTouches&&
(e=a.A.targetTouches[0]);return new G(e.clientX,e.clientY)}function Sc(a,b,c){if(b instanceof ub)c=b.height,b=b.width;else if(void 0==c)throw Error("missing height argument");a.style.width=Lc(b,!0);a.style.height=Lc(c,!0)}function Lc(a,b){"number"==typeof a&&(a=(b?Math.round(a):a)+"px");return a}
function Tc(a){var b=Uc;if("none"!=Jc(a,"display"))return b(a);var c=a.style,d=c.display,e=c.visibility,g=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";a=b(a);c.display=d;c.position=g;c.visibility=e;return a}function Uc(a){var b=a.offsetWidth,c=a.offsetHeight,d=E&&!b&&!c;return(void 0===b||d)&&a.getBoundingClientRect?(a=Mc(a),new ub(a.right-a.left,a.bottom-a.top)):new ub(b,c)}function Vc(a){var b=Oc(a);a=Tc(a);return new Fc(b.x,b.y,a.width,a.height)}
function Q(a,b){var c=a.style;"opacity"in c?c.opacity=b:"MozOpacity"in c?c.MozOpacity=b:"filter"in c&&(c.filter=""===b?"":"alpha(opacity\x3d"+100*b+")")}function R(a,b){a.style.display=b?"":"none"}function Wc(a){return"rtl"==Jc(a,"direction")}var Xc=D?"MozUserSelect":E?"WebkitUserSelect":null;
function Yc(a,b){if(/^\d+px?$/.test(b))return parseInt(b,10);var c=a.style.left,d=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=b;var e=a.style.pixelLeft;a.style.left=c;a.runtimeStyle.left=d;return e}function Zc(a,b){var c=a.currentStyle?a.currentStyle[b]:null;return c?Yc(a,c):0}
function $c(a,b){if(C){var c=Zc(a,b+"Left"),d=Zc(a,b+"Right"),e=Zc(a,b+"Top"),g=Zc(a,b+"Bottom");return new Ec(e,d,g,c)}c=N(a,b+"Left");d=N(a,b+"Right");e=N(a,b+"Top");g=N(a,b+"Bottom");return new Ec(parseFloat(e),parseFloat(d),parseFloat(g),parseFloat(c))}var ad={thin:2,medium:4,thick:6};function bd(a,b){if("none"==(a.currentStyle?a.currentStyle[b+"Style"]:null))return 0;var c=a.currentStyle?a.currentStyle[b+"Width"]:null;return c in ad?ad[c]:Yc(a,c)}
function cd(a){if(C){var b=bd(a,"borderLeft"),c=bd(a,"borderRight"),d=bd(a,"borderTop");a=bd(a,"borderBottom");return new Ec(d,c,a,b)}b=N(a,"borderLeftWidth");c=N(a,"borderRightWidth");d=N(a,"borderTopWidth");a=N(a,"borderBottomWidth");return new Ec(parseFloat(d),parseFloat(c),parseFloat(a),parseFloat(b))}var Rc=/matrix\([0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, ([0-9\.\-]+)p?x?, ([0-9\.\-]+)p?x?\)/;function dd(a,b,c){Cc.call(this);this.target=a;this.handle=b||a;this.pd=c||new Fc(NaN,NaN,NaN,NaN);this.ba=H(a);this.qa=new yc(this);a=qa($b,this.qa);this.dc||(this.dc=[]);this.dc.push(pa(a,void 0));K(this.handle,["touchstart","mousedown"],this.oe,!1,this)}t(dd,Cc);var ed=C||D&&F("1.9.3");n=dd.prototype;n.clientX=0;n.clientY=0;n.screenX=0;n.screenY=0;n.qe=0;n.re=0;n.ob=0;n.pb=0;n.Ud=!0;n.cb=!1;n.fe=0;n.Me=0;n.Ie=!1;n.Dd=!1;n.vc=m("qa");function fd(a,b){a.pd=b||new Fc(NaN,NaN,NaN,NaN)}
n.S=function(){dd.F.S.call(this);qc(this.handle,["touchstart","mousedown"],this.oe,!1,this);this.qa.Oa();ed&&this.ba.releaseCapture();this.handle=this.target=null};function gd(a){void 0===a.Pa&&(a.Pa=Wc(a.target));return a.Pa}
n.oe=function(a){var b="mousedown"==a.type;if(!this.Ud||this.cb||b&&!fc(a))this.dispatchEvent("earlycancel");else{hd(a);if(0==this.fe)if(this.dispatchEvent(new id("start",this,a.clientX,a.clientY,a)))this.cb=!0,a.preventDefault();else return;else a.preventDefault();var b=this.ba,c=b.documentElement,d=!ed;this.qa.v(b,["touchmove","mousemove"],this.Ge,d);this.qa.v(b,["touchend","mouseup"],this.uc,d);ed?(c.setCapture(!1),this.qa.v(c,"losecapture",this.uc)):this.qa.v(b?b.parentWindow||b.defaultView:window,
"blur",this.uc);C&&this.Ie&&this.qa.v(b,"dragstart",bc);this.Se&&this.qa.v(this.Se,"scroll",this.Pe,d);this.clientX=this.qe=a.clientX;this.clientY=this.re=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;this.Dd?(a=this.target,b=a.offsetLeft,c=a.offsetParent,c||"fixed"!=Jc(a,"position")||(c=H(a).documentElement),c?(D?(d=cd(c),b+=d.left):C&&8<=kb&&(d=cd(c),b-=d.left),a=Wc(c)?c.clientWidth-(b+a.offsetWidth):b):a=b):a=this.target.offsetLeft;this.ob=a;this.pb=this.target.offsetTop;this.ud=Pb(yb(this.ba));
this.Me=ra()}};n.uc=function(a,b){this.qa.Oa();ed&&this.ba.releaseCapture();if(this.cb){hd(a);this.cb=!1;var c=jd(this,this.ob),d=kd(this,this.pb);this.dispatchEvent(new id("end",this,a.clientX,a.clientY,a,c,d,b||"touchcancel"==a.type))}else this.dispatchEvent("earlycancel")};function hd(a){var b=a.type;"touchstart"==b||"touchmove"==b?a.init(a.A.targetTouches[0],a.currentTarget):"touchend"!=b&&"touchcancel"!=b||a.init(a.A.changedTouches[0],a.currentTarget)}
n.Ge=function(a){if(this.Ud){hd(a);var b=(this.Dd&&gd(this)?-1:1)*(a.clientX-this.clientX),c=a.clientY-this.clientY;this.clientX=a.clientX;this.clientY=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;if(!this.cb){var d=this.qe-this.clientX,e=this.re-this.clientY;if(d*d+e*e>this.fe)if(this.dispatchEvent(new id("start",this,a.clientX,a.clientY,a)))this.cb=!0;else{this.tc||this.uc(a);return}}c=ld(this,b,c);b=c.x;c=c.y;this.cb&&this.dispatchEvent(new id("beforedrag",this,a.clientX,a.clientY,a,
b,c))&&(md(this,a,b,c),a.preventDefault())}};function ld(a,b,c){var d=Pb(yb(a.ba));b+=d.x-a.ud.x;c+=d.y-a.ud.y;a.ud=d;a.ob+=b;a.pb+=c;b=jd(a,a.ob);a=kd(a,a.pb);return new G(b,a)}n.Pe=function(a){var b=ld(this,0,0);a.clientX=this.clientX;a.clientY=this.clientY;md(this,a,b.x,b.y)};function md(a,b,c,d){a.Td(c,d);a.dispatchEvent(new id("drag",a,b.clientX,b.clientY,b,c,d))}
function jd(a,b){var c=a.pd,d=isNaN(c.left)?null:c.left,c=isNaN(c.width)?0:c.width;return Math.min(null!=d?d+c:Infinity,Math.max(null!=d?d:-Infinity,b))}function kd(a,b){var c=a.pd,d=isNaN(c.top)?null:c.top,c=isNaN(c.height)?0:c.height;return Math.min(null!=d?d+c:Infinity,Math.max(null!=d?d:-Infinity,b))}n.Td=function(a,b){this.Dd&&gd(this)?this.target.style.right=a+"px":this.target.style.left=a+"px";this.target.style.top=b+"px"};
function id(a,b,c,d,e,g,h,k){ac.call(this,a);this.clientX=c;this.clientY=d;this.cf=e;this.left=void 0!==g?g:b.ob;this.top=void 0!==h?h:b.pb;this.ff=b;this.ef=!!k}t(id,ac);function nd(a){for(var b=0,c=0;a&&!isNaN(a.offsetLeft)&&!isNaN(a.offsetTop);)b+=a.offsetLeft-a.scrollLeft,c+=a.offsetTop-a.scrollTop,a=a.offsetParent;return{top:c,left:b}}function od(a){window.addEventListener?window.addEventListener("load",a,!1):window.attachEvent&&window.attachEvent("onload",a)}
function pd(a,b){var c=document.createElement("div");M(c,"position","absolute");M(c,"top","0px");M(c,"right","0px");M(c,"width","5px");M(c,"height","100%");M(c,"cursor","e-resize");a.appendChild(c);var d=cd(a),d=Vc(a).width-d.right-d.left,c=new dd(c);fd(c,new Fc(d,0,800,0));c.Td=function(c){M(a,"width",c+"px");b&&b()}};function qd(){this.Kb=[]}qd.prototype.addHandler=function(a,b){this.Kb[a]||(this.Kb[a]=[]);this.Kb[a].push(b)};qd.prototype.wa=function(a,b){var c=this.Kb[a];c&&A(c,b)};qd.prototype.fireEvent=function(a,b,c){var d=!1;(a=this.Kb[a])&&y(a,function(a){a=a(b,c);void 0!==a&&!a&&(d=!0)});return d};function rd(a,b){this.va={};this.t=[];var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){var e;if(a instanceof rd)sd(a),e=a.t.concat(),d=S(a);else{var c=[],g=0;for(e in a)c[g++]=e;e=c;c=[];g=0;for(d in a)c[g++]=a[d];d=c}for(c=0;c<e.length;c++)this.set(e[c],d[c])}}n=rd.prototype;n.X=0;n.Ed=0;function S(a){sd(a);for(var b=[],c=0;c<a.t.length;c++)b.push(a.va[a.t[c]]);return b}
n.clear=function(){this.va={};this.Ed=this.X=this.t.length=0};n.remove=function(a){return td(this.va,a)?(delete this.va[a],this.X--,this.Ed++,this.t.length>2*this.X&&sd(this),!0):!1};function sd(a){if(a.X!=a.t.length){for(var b=0,c=0;b<a.t.length;){var d=a.t[b];td(a.va,d)&&(a.t[c++]=d);b++}a.t.length=c}if(a.X!=a.t.length){for(var e={},c=b=0;b<a.t.length;)d=a.t[b],td(e,d)||(a.t[c++]=d,e[d]=1),b++;a.t.length=c}}n.get=function(a,b){return td(this.va,a)?this.va[a]:b};
n.set=function(a,b){td(this.va,a)||(this.X++,this.t.push(a),this.Ed++);this.va[a]=b};function td(a,b){return Object.prototype.hasOwnProperty.call(a,b)};function T(a,b){this.x=a;this.y=b};function ud(a){this.points=a}function vd(a){for(var b=0,c=a.length-1,d=0;d<a.length;d++)b+=(a[c].x+a[d].x)*(a[c].y-a[d].y),c=d;return b/2}
function wd(a,b){for(var c,d=c=0,e,g=a.length-1,h=0;h<a.length;h++)e=a[h].x*a[g].y-a[g].x*a[h].y,c+=(a[h].x+a[g].x)*e,d+=(a[h].y+a[g].y)*e,g=h;e=6*vd(a);c=new T(Math.abs(c/e),Math.abs(d/e));d=[];for(e=0;e<a.length;e++){var g=a[e],k=(0>vd(a)?-1:1)*b,h=g.x-c.x,l=g.y-c.y,s=0<k?1:0>k?-1:0,k=Math.sqrt(Math.pow(k,2)/(1+Math.pow(h/l,2)));d.push({x:g.x+Math.abs(h/l*k)*(0<h?1:0>h?-1:0)*s,y:g.y+Math.abs(k)*(0<l?1:0>l?-1:0)*s})}return d};function xd(a,b,c,d){0<c?(this.x=a,this.width=c):(this.x=a+c,this.width=-c);0<d?(this.y=b,this.height=d):(this.y=b+d,this.height=-d)};function yd(a,b,c,d,e){this.type=a;this.geometry=b;e&&a==U&&(this.mask=e);c&&(this.units=c);this.style=d?d:{}}var U="rect";function Jd(a,b,c){if(a.type==U||"arrow"==a.type)return a="arrow"==a.type?Kd(a.geometry):a.geometry,b<a.x||c<a.y||b>a.x+a.width||c>a.y+a.height?!1:!0;if("polygon"==a.type){a=a.geometry.points;for(var d=!1,e=a.length-1,g=0;g<a.length;g++)a[g].y>c!=a[e].y>c&&b<(a[e].x-a[g].x)*(c-a[g].y)/(a[e].y-a[g].y)+a[g].x&&(d=!d),e=g;return d}return!1}
function Ld(a){return a.type==U||"arrow"==a.type?(a="arrow"==a.type?Kd(a.geometry):a.geometry,a.width*a.height):"polygon"==a.type?Math.abs(vd(a.geometry.points)):0}function Md(a){if(a.type==U)return a;if("polygon"==a.type){for(var b=a.geometry.points,c=b[0].x,d=b[0].x,e=b[0].y,g=b[0].y,h=1;h<b.length;h++)b[h].x>d&&(d=b[h].x),b[h].x<c&&(c=b[h].x),b[h].y>g&&(g=b[h].y),b[h].y<e&&(e=b[h].y);return new yd(U,new xd(c,e,d-c,g-e),!1,a.style)}if("arrow"==a.type)return new yd(U,Kd(a.geometry),!1,a.style)}
function Nd(a,b){var c;c=a.geometry.points;var d=0>vd(c)?-1:1;if(4>c.length)c=wd(c,d*b);else{for(var e=c.length-1,g=1,h=[],k=0;k<c.length;k++)e=wd([c[e],c[k],c[g]],d*b),h.push(e[1]),e=k,g++,g>c.length-1&&(g=0);c=h}return new yd("polygon",new ud(c),!1,a.style)}
function Od(a,b){if(a.type==U){var c=b(a.geometry);return new yd(U,c,!1,a.style,a.mask)}if("polygon"==a.type){var d=[];y(a.geometry.points,function(a){d.push(b(a))});return new yd("polygon",new ud(d),!1,a.style)}if("arrow"==a.type)return new yd("arrow",new Pd(b(a.geometry.arrowTail),b(a.geometry.arrowHead)),!1,a.style)}function V(a){return JSON.stringify(a.geometry)};function Qd(a,b,c,d,e,g){this.id=g;this.src=a;this.text=b;this.textId=e;this.shapes=[c];this.created_at=d||Date.now();this.context=document.URL;this.setMask=this.setMask}Qd.prototype.setMask=function(a,b,c,d){if(!b||this.shapes.length>=b)b=0;this.shapes[b].type!=U?console.log("WARNING: impossible to set mask in shape "+this.shapes[b].type):this.shapes[b].mask=a;c&&(this.shapes[b].style.maskTransparency=c);void 0!=d&&(this.shapes[b].style.maskBorder=d)};function Rd(){}function Sd(a,b){a.k=new rd;a.Wc=[];a.Ob=[];a.lb=[];a.hb=[];a.Rc=[];a.jc={wb:!1,vb:!1};a.ib=new rd;a.Fb={};a.Od=b}function Td(a,b){var c=a.ib.get(b);c||(c={wb:!1,vb:!1},a.ib.set(b,c));return c}
function Ud(a,b){var c=a.wc(b);if(!a.k.get(c)){var d=a.sd(b),e=[],g=[];y(a.Wc,function(a){d.addHandler(a.type,a.sa)});y(a.Ob,function(a){if(a.onInitAnnotator)a.onInitAnnotator(d)});y(a.hb,function(a){a.src==c&&(d.R(a),e.push(a))});y(a.Rc,function(a){a.src==c&&(d.T(a),g.push(a))});y(e,function(b){A(a.hb,b)});y(g,function(b){A(a.Rc,b)});var h=a.ib.get(c);h?(h.wb&&d.Z(),h.vb&&d.Ba(),a.ib.remove(c)):(a.jc.wb&&d.Z(),a.jc.vb&&d.Ba());a.Fb&&0!==Object.keys(a.Fb).length&&d.D(a.Fb);a.k.set(c,d);A(a.lb,b)}}
function Vd(a){var b,c;for(c=a.lb.length;0<c;c--){for(var d=b=a.lb[c-1],e=d.offsetTop,g=d.offsetLeft,h=d.offsetWidth,k=d.offsetHeight;d.offsetParent;)d=d.offsetParent,e+=d.offsetTop,g+=d.offsetLeft;e<window.pageYOffset+window.innerHeight&&(g<window.pageXOffset+window.innerWidth&&e+k>window.pageYOffset&&g+h>window.pageXOffset)&&Ud(a,b)}}function Wd(a,b,c){if(b){var d=a.k.get(b);d?c?d.Ra():d.Ba():Td(a,b).vb=c}else y(S(a.k),function(a){c?a.Ra():a.Ba()}),a.jc.vb=!c,y(S(a.ib),function(a){a.vb=!c})}
function Xd(a,b,c){if(b){var d=a.k.get(b);d?c?d.da():d.Z():Td(a,b).wb=c}else y(S(a.k),function(a){c?a.da():a.Z()}),a.jc.wb=!c,y(S(a.ib),function(a){a.wb=!c})}n=Rd.prototype;n.ya=function(a,b){var c=void 0,d=void 0;q(a)?(c=a,d=b):r(a)&&(d=a);c?(c=this.k.get(c))&&c.ya(d):y(S(this.k),function(a){a.ya(d)})};n.stopSelection=function(a){a?(a=this.k.get(a))&&a.stopSelection():y(S(this.k),function(a){a.stopSelection()})};
n.R=function(a,b){if(Yd(this,a.src)){var c=this.k.get(a.src);c?c.R(a,b):(this.hb.push(a),b&&A(this.hb,b))}};n.addHandler=function(a,b){y(S(this.k),function(c){c.addHandler(a,b)});this.Wc.push({type:a,sa:b})};n.wa=function(a,b){y(S(this.k),function(c){c.wa(a,b)});y(this.Wc,function(c,d,e){c.type!==a||b&&c.sa!==b||x.splice.call(e,d,1)})};n.mc=function(a){this.Ob.push(a);y(S(this.k),function(b){if(a.onInitAnnotator)a.onInitAnnotator(b)})};
function Yd(a,b){return td(a.k.va,b)?!0:null!=Fa(a.lb,function(c){return a.wc(c)==b})}n.destroy=function(a){if(a){var b=this.k.get(a);b&&(b.destroy(),this.k.remove(a))}else y(S(this.k),function(a){a.destroy()}),this.k.clear()};n.Ha=function(a){if(Yd(this,a)&&(a=this.k.get(a)))return a.Ha().getName()};n.M=function(a){if(a){var b=this.k.get(a);return b?b.M():Ca(this.hb,function(b){return b.src==a})}var c=[];y(S(this.k),function(a){Ia(c,a.M())});Ia(c,this.hb);return c};
n.Ia=function(a){if(Yd(this,a)&&(a=this.k.get(a)))return Da(a.Ia(),function(a){return a.getName()})};n.Ba=function(a){Wd(this,a,!1)};n.Z=function(a){Xd(this,a,!1)};n.J=function(a){if(a){if(Yd(this,a.src)){var b=this.k.get(a.src);b&&b.J(a)}}else y(S(this.k),function(a){a.J()})};n.init=function(){this.Od&&Ia(this.lb,this.Od());Vd(this);var a=this,b=K(window,"scroll",function(){0<a.lb.length?Vd(a):L(b)})};n.qd=function(a){this.Oc(a)&&Ud(this,a)};
n.T=function(a){if(Yd(this,a.src)){var b=this.k.get(a.src);b?b.T(a):this.Rc.push(a)}};n.fc=function(a,b){if(Yd(this,a)){var c=this.k.get(a);c&&c.Nc(b)}};function Zd(a,b,c){b instanceof Object&&0!==Object.keys(b).length&&y(Object.keys(b),function(d){b[d]instanceof Object?(c.hasOwnProperty(d)&&c[d]||(c[d]=b[d]instanceof Array?[]:{}),Zd(a,b[d],c[d])):c[d]=b[d]})}function $d(a){a.Fb={};a.Ra();a.da()}
n.D=function(a){a instanceof Object&&0!==Object.keys(a).length&&(Zd(this,a,this.Fb),a.hasOwnProperty("hideSelectionWidget")&&Xd(this,void 0,!a.hideSelectionWidget),a.hasOwnProperty("hideAnnotations")&&Wd(this,void 0,!a.hideAnnotations),y(S(this.k),function(b){b.D(a)}))};n.Ra=function(a){Wd(this,a,!0)};n.da=function(a){Xd(this,a,!0)};var ae={},be={};function ce(a,b){var c=yb().createElement("DIV"),d=de(a(b||ee,void 0,void 0));c.innerHTML=d;return 1==c.childNodes.length&&(d=c.firstChild,1==d.nodeType)?d:c}function de(a){return ia(a)?"zSoyz":String(a)}var ee={};function fe(a,b){null!=a&&this.append.apply(this,arguments)}n=fe.prototype;n.ab="";n.set=function(a){this.ab=""+a};n.append=function(a,b,c){this.ab+=a;if(null!=b)for(var d=1;d<arguments.length;d++)this.ab+=arguments[d];return this};n.clear=function(){this.ab=""};n.toString=m("ab");/*
 Portions of this code are from the google-caja project, received by
 Google under the Apache license (http://code.google.com/p/google-caja/).
 All other code is Copyright 2009 Google, Inc. All Rights Reserved.

// Copyright (C) 2006 Google Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//      http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

*/
function ge(){}
var he={hf:"\x3c",gf:"\x3e",af:"\x26",jf:"\u00a0",lf:'"',bf:"'"},ie={a:0,abbr:0,acronym:0,address:0,applet:16,area:2,b:0,base:18,basefont:18,bdo:0,big:0,blockquote:0,body:49,br:2,button:0,caption:0,center:0,cite:0,code:0,col:2,colgroup:1,dd:1,del:0,dfn:0,dir:0,div:0,dl:0,dt:1,em:0,fieldset:0,font:0,form:0,frame:18,frameset:16,h1:0,h2:0,h3:0,h4:0,h5:0,h6:0,head:49,hr:2,html:49,i:0,iframe:20,img:2,input:2,ins:0,isindex:18,kbd:0,label:0,legend:0,li:1,link:18,map:0,menu:0,meta:18,noframes:20,noscript:20,
object:16,ol:0,optgroup:0,option:1,p:1,param:18,pre:0,q:0,s:0,samp:0,script:20,select:0,small:0,span:0,strike:0,strong:0,style:20,sub:0,sup:0,table:0,tbody:1,td:1,textarea:8,tfoot:1,th:1,thead:1,title:24,tr:1,tt:0,u:0,ul:0,"var":0},je=/&/g,ke=/&([^a-z#]|#(?:[^0-9x]|x(?:[^0-9a-f]|$)|$)|$)/gi,le=/</g,me=/>/g,ne=/\"/g,oe=/=/g,pe=/\0/g,qe=/&(#\d+|#x[0-9A-Fa-f]+|\w+);/g,re=/^#(\d+)$/,se=/^#x([0-9A-Fa-f]+)$/,te=RegExp("^\\s*(?:(?:([a-z][a-z-]*)(\\s*\x3d\\s*(\"[^\"]*\"|'[^']*'|(?\x3d[a-z][a-z-]*\\s*\x3d)|[^\x3e\"'\\s]*))?)|(/?\x3e)|[^a-z\\s\x3e]+)",
"i"),ue=RegExp("^(?:\x26(\\#[0-9]+|\\#[x][0-9a-f]+|\\w+);|\x3c[!]--[\\s\\S]*?--\x3e|\x3c!\\w[^\x3e]*\x3e|\x3c\\?[^\x3e*]*\x3e|\x3c(/)?([a-z][a-z0-9]*)|([^\x3c\x26\x3e]+)|([\x3c\x26\x3e]))","i");
ge.prototype.parse=function(a,b){var c=null,d=!1,e=[],g,h,k;a.ha=[];for(a.Ka=!1;b;){var l=b.match(d?te:ue);b=b.substring(l[0].length);if(d)if(l[1]){var s=l[1].toLowerCase();if(l[2]){l=l[3];switch(l.charCodeAt(0)){case 34:case 39:l=l.substring(1,l.length-1)}l=l.replace(pe,"").replace(qe,pa(this.Je,this))}else l=s;e.push(s,l)}else l[4]&&(void 0!==h&&(k?a.pe&&a.pe(g,e):a.Vd&&a.Vd(g)),k&&h&12&&(c=null===c?b.toLowerCase():c.substring(c.length-b.length),d=c.indexOf("\x3c/"+g),0>d&&(d=b.length),h&4?a.Rd&&
a.Rd(b.substring(0,d)):a.me&&a.me(b.substring(0,d).replace(ke,"\x26amp;$1").replace(le,"\x26lt;").replace(me,"\x26gt;")),b=b.substring(d)),g=h=k=void 0,e.length=0,d=!1);else if(l[1])ve(a,l[0]);else if(l[3])k=!l[2],d=!0,g=l[3].toLowerCase(),h=ie.hasOwnProperty(g)?ie[g]:void 0;else if(l[4])ve(a,l[4]);else if(l[5])switch(l[5]){case "\x3c":ve(a,"\x26lt;");break;case "\x3e":ve(a,"\x26gt;");break;default:ve(a,"\x26amp;")}}for(c=a.ha.length;0<=--c;)a.Da.append("\x3c/",a.ha[c],"\x3e");a.ha.length=0};
ge.prototype.Je=function(a){a=a.toLowerCase();if(he.hasOwnProperty(a))return he[a];var b=a.match(re);return b?String.fromCharCode(parseInt(b[1],10)):(b=a.match(se))?String.fromCharCode(parseInt(b[1],16)):""};function we(){};/*
 Portions of this code are from the google-caja project, received by
 Google under the Apache license (http://code.google.com/p/google-caja/).
 All other code is Copyright 2009 Google, Inc. All Rights Reserved.

// Copyright (C) 2006 Google Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//      http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

*/
function xe(a,b){var c=new fe;(new ge).parse(new ye(c,b,void 0),a);return c.toString()}function ye(a,b,c){this.Da=a;this.ha=[];this.Ka=!1;this.te=b;this.Gc=c}t(ye,we);
var ze={"*::class":9,"*::dir":0,"*::id":4,"*::lang":0,"*::onclick":2,"*::ondblclick":2,"*::onkeydown":2,"*::onkeypress":2,"*::onkeyup":2,"*::onload":2,"*::onmousedown":2,"*::onmousemove":2,"*::onmouseout":2,"*::onmouseover":2,"*::onmouseup":2,"*::style":3,"*::title":0,"*::accesskey":0,"*::tabindex":0,"*::onfocus":2,"*::onblur":2,"a::coords":0,"a::href":1,"a::hreflang":0,"a::name":7,"a::onblur":2,"a::rel":0,"a::rev":0,"a::shape":0,"a::target":10,"a::type":0,"area::accesskey":0,"area::alt":0,"area::coords":0,
"area::href":1,"area::nohref":0,"area::onfocus":2,"area::shape":0,"area::tabindex":0,"area::target":10,"bdo::dir":0,"blockquote::cite":1,"br::clear":0,"button::accesskey":0,"button::disabled":0,"button::name":8,"button::onblur":2,"button::onfocus":2,"button::tabindex":0,"button::type":0,"button::value":0,"caption::align":0,"col::align":0,"col::char":0,"col::charoff":0,"col::span":0,"col::valign":0,"col::width":0,"colgroup::align":0,"colgroup::char":0,"colgroup::charoff":0,"colgroup::span":0,"colgroup::valign":0,
"colgroup::width":0,"del::cite":1,"del::datetime":0,"dir::compact":0,"div::align":0,"dl::compact":0,"font::color":0,"font::face":0,"font::size":0,"form::accept":0,"form::action":1,"form::autocomplete":0,"form::enctype":0,"form::method":0,"form::name":7,"form::onreset":2,"form::onsubmit":2,"form::target":10,"h1::align":0,"h2::align":0,"h3::align":0,"h4::align":0,"h5::align":0,"h6::align":0,"hr::align":0,"hr::noshade":0,"hr::size":0,"hr::width":0,"img::align":0,"img::alt":0,"img::border":0,"img::height":0,
"img::hspace":0,"img::ismap":0,"img::longdesc":1,"img::name":7,"img::src":1,"img::usemap":11,"img::vspace":0,"img::width":0,"input::accept":0,"input::accesskey":0,"input::autocomplete":0,"input::align":0,"input::alt":0,"input::checked":0,"input::disabled":0,"input::ismap":0,"input::maxlength":0,"input::name":8,"input::onblur":2,"input::onchange":2,"input::onfocus":2,"input::onselect":2,"input::readonly":0,"input::size":0,"input::src":1,"input::tabindex":0,"input::type":0,"input::usemap":11,"input::value":0,
"ins::cite":1,"ins::datetime":0,"label::accesskey":0,"label::for":5,"label::onblur":2,"label::onfocus":2,"legend::accesskey":0,"legend::align":0,"li::type":0,"li::value":0,"map::name":7,"menu::compact":0,"ol::compact":0,"ol::start":0,"ol::type":0,"optgroup::disabled":0,"optgroup::label":0,"option::disabled":0,"option::label":0,"option::selected":0,"option::value":0,"p::align":0,"pre::width":0,"q::cite":1,"select::disabled":0,"select::multiple":0,"select::name":8,"select::onblur":2,"select::onchange":2,
"select::onfocus":2,"select::size":0,"select::tabindex":0,"table::align":0,"table::bgcolor":0,"table::border":0,"table::cellpadding":0,"table::cellspacing":0,"table::frame":0,"table::rules":0,"table::summary":0,"table::width":0,"tbody::align":0,"tbody::char":0,"tbody::charoff":0,"tbody::valign":0,"td::abbr":0,"td::align":0,"td::axis":0,"td::bgcolor":0,"td::char":0,"td::charoff":0,"td::colspan":0,"td::headers":6,"td::height":0,"td::nowrap":0,"td::rowspan":0,"td::scope":0,"td::valign":0,"td::width":0,
"textarea::accesskey":0,"textarea::cols":0,"textarea::disabled":0,"textarea::name":8,"textarea::onblur":2,"textarea::onchange":2,"textarea::onfocus":2,"textarea::onselect":2,"textarea::readonly":0,"textarea::rows":0,"textarea::tabindex":0,"tfoot::align":0,"tfoot::char":0,"tfoot::charoff":0,"tfoot::valign":0,"th::abbr":0,"th::align":0,"th::axis":0,"th::bgcolor":0,"th::char":0,"th::charoff":0,"th::colspan":0,"th::headers":6,"th::height":0,"th::nowrap":0,"th::rowspan":0,"th::scope":0,"th::valign":0,
"th::width":0,"thead::align":0,"thead::char":0,"thead::charoff":0,"thead::valign":0,"tr::align":0,"tr::bgcolor":0,"tr::char":0,"tr::charoff":0,"tr::valign":0,"ul::compact":0,"ul::type":0};
ye.prototype.pe=function(a,b){if(!this.Ka&&ie.hasOwnProperty(a)){var c=ie[a];if(!(c&32))if(c&16)this.Ka=!(c&2);else{for(var d=b,e=0;e<d.length;e+=2){var g=d[e],h=d[e+1],k=null,l;if((l=a+"::"+g,ze.hasOwnProperty(l))||(l="*::"+g,ze.hasOwnProperty(l)))k=ze[l];if(null!==k)switch(k){case 0:break;case 2:case 3:h=null;break;case 4:case 5:case 6:case 7:case 8:case 9:h=this.Gc?this.Gc(h):h;break;case 1:h=this.te&&this.te(h);break;case 11:h&&"#"===h.charAt(0)?(h=this.Gc?this.Gc(h):h)&&(h="#"+h):h=null;break;
default:h=null}else h=null;d[e+1]=h}if(b=d){c&2||this.ha.push(a);this.Da.append("\x3c",a);c=0;for(d=b.length;c<d;c+=2)e=b[c],g=b[c+1],null!==g&&void 0!==g&&this.Da.append(" ",e,'\x3d"',g.replace(je,"\x26amp;").replace(le,"\x26lt;").replace(me,"\x26gt;").replace(ne,"\x26#34;").replace(oe,"\x26#61;"),'"');this.Da.append("\x3e")}}}};
ye.prototype.Vd=function(a){if(this.Ka)this.Ka=!1;else if(ie.hasOwnProperty(a)){var b=ie[a];if(!(b&50)){if(b&1)for(b=this.ha.length;0<=--b;){var c=this.ha[b];if(c===a)break;if(!(ie[c]&1))return}else for(b=this.ha.length;0<=--b&&this.ha[b]!==a;);if(!(0>b)){for(var d=this.ha.length;--d>b;)c=this.ha[d],ie[c]&1||this.Da.append("\x3c/",c,"\x3e");this.ha.length=b;this.Da.append("\x3c/",a,"\x3e")}}}};function ve(a,b){a.Ka||a.Da.append(b)}ye.prototype.me=function(a){this.Ka||this.Da.append(a)};
ye.prototype.Rd=function(a){this.Ka||this.Da.append(a)};function Ae(a,b,c,d,e){if(!(C||E&&F("525")))return!0;if(Sa&&e)return Be(a);if(e&&!d||!c&&(17==b||18==b||Sa&&91==b))return!1;if(E&&d&&c)switch(a){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(C&&d&&b==a)return!1;switch(a){case 13:return!(C&&C&&9<=kb);case 27:return!E}return Be(a)}
function Be(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||E&&0==a)return!0;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return!0;default:return!1}}function Ce(a){switch(a){case 61:return 187;case 59:return 186;case 224:return 91;case 0:return 224;default:return a}};function De(a,b){Cc.call(this);a&&Ee(this,a,b)}t(De,Cc);n=De.prototype;n.L=null;n.Cc=null;n.od=null;n.Dc=null;n.ca=-1;n.La=-1;n.bd=!1;
var Fe={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},Ge={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},He=C||E&&F("525"),Ie=Sa&&D;n=De.prototype;
n.De=function(a){E&&(17==this.ca&&!a.ctrlKey||18==this.ca&&!a.altKey||Sa&&91==this.ca&&!a.metaKey)&&(this.La=this.ca=-1);-1==this.ca&&(a.ctrlKey&&17!=a.keyCode?this.ca=17:a.altKey&&18!=a.keyCode?this.ca=18:a.metaKey&&91!=a.keyCode&&(this.ca=91));He&&!Ae(a.keyCode,this.ca,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):(this.La=D?Ce(a.keyCode):a.keyCode,Ie&&(this.bd=a.altKey))};n.Fe=function(a){this.La=this.ca=-1;this.bd=a.altKey};
n.handleEvent=function(a){var b=a.A,c,d,e=b.altKey;C&&"keypress"==a.type?(c=this.La,d=13!=c&&27!=c?b.keyCode:0):E&&"keypress"==a.type?(c=this.La,d=0<=b.charCode&&63232>b.charCode&&Be(c)?b.charCode:0):B?(c=this.La,d=Be(c)?b.keyCode:0):(c=b.keyCode||this.La,d=b.charCode||0,Ie&&(e=this.bd),Sa&&(63==d&&224==c)&&(c=191));var g=c,h=b.keyIdentifier;c?63232<=c&&c in Fe?g=Fe[c]:25==c&&a.shiftKey&&(g=9):h&&h in Ge&&(g=Ge[h]);a=g==this.ca;this.ca=g;b=new Je(g,d,a,b);b.altKey=e;this.dispatchEvent(b)};n.g=m("L");
function Ee(a,b,c){a.Dc&&a.detach();a.L=b;a.Cc=K(a.L,"keypress",a,c);a.od=K(a.L,"keydown",a.De,c,a);a.Dc=K(a.L,"keyup",a.Fe,c,a)}n.detach=function(){this.Cc&&(L(this.Cc),L(this.od),L(this.Dc),this.Dc=this.od=this.Cc=null);this.L=null;this.La=this.ca=-1};n.S=function(){De.F.S.call(this);this.detach()};function Je(a,b,c,d){d&&this.init(d,void 0);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}t(Je,dc);function Ke(){}ea(Ke);Ke.prototype.Oe=0;Ke.ac();function Le(a){Cc.call(this);this.Vb=a||yb();this.Pa=Me}t(Le,Cc);Le.prototype.He=Ke.ac();var Me=null;function Ne(a,b){switch(a){case 1:return b?"disable":"enable";case 2:return b?"highlight":"unhighlight";case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close"}throw Error("Invalid component state");}n=Le.prototype;n.Ac=null;n.ta=!1;n.L=null;n.Pa=null;n.Le=null;n.Ma=null;n.rc=null;
n.bb=null;n.ue=!1;function Oe(a,b){if(a.Ma&&a.Ma.bb){var c=a.Ma.bb,d=a.Ac;d in c&&delete c[d];c=a.Ma.bb;if(b in c)throw Error('The object already contains the key "'+b+'"');c[b]=a}a.Ac=b}n.g=m("L");n.vc=function(){return this.tb||(this.tb=new yc(this))};n.Bd=function(a){if(this.Ma&&this.Ma!=a)throw Error("Method not supported");Le.F.Bd.call(this,a)};n.Xd=m("Vb");
n.Ub=function(a){if(this.ta)throw Error("Component already rendered");if(a&&this.Tb(a)){this.ue=!0;var b=H(a);this.Vb&&this.Vb.ba==b||(this.Vb=yb(a));this.Sd(a);this.rb()}else throw Error("Invalid element to decorate");};n.Tb=aa(!0);n.Sd=function(a){this.L=a};n.rb=function(){this.ta=!0;Pe(this,function(a){!a.ta&&a.g()&&a.rb()})};n.Yb=function(){Pe(this,function(a){a.ta&&a.Yb()});this.tb&&this.tb.Oa();this.ta=!1};
n.S=function(){this.ta&&this.Yb();this.tb&&(this.tb.qb(),delete this.tb);Pe(this,function(a){a.qb()});!this.ue&&this.L&&Ib(this.L);this.Ma=this.Le=this.L=this.bb=this.rc=null;Le.F.S.call(this)};n.Zb=m("L");n.Ab=function(a){if(this.ta)throw Error("Component already rendered");this.Pa=a};function Pe(a,b){a.rc&&y(a.rc,b,void 0)}
n.removeChild=function(a,b){if(a){var c=q(a)?a:a.Ac||(a.Ac=":"+(a.He.Oe++).toString(36)),d;this.bb&&c?(d=this.bb,d=(c in d?d[c]:void 0)||null):d=null;a=d;if(c&&a){d=this.bb;c in d&&delete d[c];A(this.rc,a);b&&(a.Yb(),a.L&&Ib(a.L));c=a;if(null==c)throw Error("Unable to set parent component");c.Ma=null;Le.F.Bd.call(c,null)}}if(!a)throw Error("Child is not in parent component");return a};var Qe;function Re(a,b,c){ha(c)&&(c=c.join(" "));var d="aria-"+b;""===c||void 0==c?(Qe||(Qe={atomic:!1,autocomplete:"none",dropeffect:"none",haspopup:!1,live:"off",multiline:!1,multiselectable:!1,orientation:"vertical",readonly:!1,relevant:"additions text",required:!1,sort:"none",busy:!1,disabled:!1,hidden:!1,invalid:"false"}),c=Qe,b in c?a.setAttribute(d,c[b]):a.removeAttribute(d)):a.setAttribute(d,c)};function Se(){}var Te;ea(Se);n=Se.prototype;n.Zb=function(a){return a};n.Wb=function(a,b,c){if(a=a.g?a.g():a)if(C&&!F("7")){var d=Ue(ob(a),b);d.push(b);qa(c?pb:rb,a).apply(null,d)}else c?pb(a,b):rb(a,b)};n.Tb=aa(!0);
n.Ub=function(a,b){b.id&&Oe(a,b.id);var c=this.Zb(b);c&&c.firstChild?Ve(a,c.firstChild.nextSibling?Ha(c.childNodes):c.firstChild):a.nb=null;var d=0,e=this.$b(),g=this.$b(),h=!1,k=!1,c=!1,l=ob(b);y(l,function(a){if(h||a!=e)if(k||a!=g){var b=d;if(!this.se){this.sc||We(this);var c=this.sc,l={},s;for(s in c)l[c[s]]=s;this.se=l}a=parseInt(this.se[a],10);d=b|(isNaN(a)?0:a)}else k=!0;else h=!0,g==e&&(k=!0)},this);a.N=d;h||(l.push(e),g==e&&(k=!0));k||l.push(g);var s=a.ra;s&&l.push.apply(l,s);if(C&&!F("7")){var w=
Ue(l);0<w.length&&(l.push.apply(l,w),c=!0)}if(!h||!k||s||c)b.className=l.join(" ");Xe(this,a,b);return b};function Xe(a,b,c){b.Cb||Re(c,"hidden",!b.Cb);b.isEnabled()||a.Bb(c,1,!b.isEnabled());b.ia&8&&a.Bb(c,8,!!(b.N&8));b.ia&16&&a.Bb(c,16,!!(b.N&16));b.ia&64&&a.Bb(c,64,!!(b.N&64))}
n.Mc=function(a,b){var c=!b,d=C||B?a.getElementsByTagName("*"):null;if(Xc){if(c=c?"none":"",a.style[Xc]=c,d)for(var e=0,g;g=d[e];e++)g.style[Xc]=c}else if(C||B)if(c=c?"on":"",a.setAttribute("unselectable",c),d)for(e=0;g=d[e];e++)g.setAttribute("unselectable",c)};n.Ab=function(a,b){this.Wb(a,this.$b()+"-rtl",b)};n.ie=function(a){var b;return a.ia&32&&(b=a.sb())?Ob(b):!1};
n.Ad=function(a,b){var c;if(a.ia&32&&(c=a.sb())){if(!b&&a.N&32){try{c.blur()}catch(d){}a.N&32&&a.Yd()}Ob(c)!=b&&(b?c.tabIndex=0:(c.tabIndex=-1,c.removeAttribute("tabIndex")))}};n.ga=function(a,b,c){var d=a.g();if(d){var e;this.sc||We(this);(e=this.sc[b])&&this.Wb(a,e,c);this.Bb(d,b,c)}};n.Bb=function(a,b,c){Te||(Te={1:"disabled",8:"selected",16:"checked",64:"expanded"});(b=Te[b])&&Re(a,b,c)};
n.Qa=function(a,b){var c=this.Zb(a);if(c&&(Gb(c),b))if(q(b))Nb(c,b);else{var d=function(a){if(a){var b=H(c);c.appendChild(q(a)?b.createTextNode(a):a)}};ga(b)?y(b,d):!ha(b)||"nodeType"in b?d(b):y(Ha(b),d)}};n.sb=function(a){return a.g()};n.$b=aa("goog-control");function Ue(a,b){var c=[];b&&(a=a.concat([b]));y([],function(d){!Ea(d,qa(Ga,a))||b&&!Ga(d,b)||c.push(d.join("_"))});return c}
function We(a){var b=a.$b();a.sc={1:b+"-disabled",2:b+"-hover",4:b+"-active",8:b+"-selected",16:b+"-checked",32:b+"-focused",64:b+"-open"}};var Ye={};function W(a,b,c){Le.call(this,c);if(!b){b=this.constructor;for(var d;b;){d=ka(b);if(d=Ye[d])break;b=b.F?b.F.constructor:null}b=d?r(d.ac)?d.ac():new d:null}this.U=b;this.nb=a}t(W,Le);n=W.prototype;n.nb=null;n.N=0;n.ia=39;n.ed=255;n.We=0;n.Cb=!0;n.ra=null;n.md=!0;n.ad=!1;n.Re=null;function Ze(a){a.ta&&!1!=a.md&&$e(a,!1);a.md=!1}n.sb=function(){return this.U.sb(this)};function af(a,b){b&&(a.ra?Ga(a.ra,b)||a.ra.push(b):a.ra=[b],a.U.Wb(a,b,!0))}
function bf(a,b){b&&(a.ra&&A(a.ra,b))&&(0==a.ra.length&&(a.ra=null),a.U.Wb(a,b,!1))}n.Wb=function(a,b){b?af(this,a):bf(this,a)};n.Zb=function(){return this.U.Zb(this.g())};n.Tb=function(a){return this.U.Tb(a)};n.Sd=function(a){this.L=a=this.U.Ub(this,a);var b=this.Re||void 0;if(b){var c=a;b?c.setAttribute("role",b):c.removeAttribute("role")}this.ad||this.U.Mc(a,!1);this.Cb="none"!=a.style.display};
n.rb=function(){W.F.rb.call(this);var a=this.U;null==this.Pa&&(this.Pa=Wc(this.ta?this.L:this.Vb.ba.body));this.Pa&&a.Ab(this.g(),!0);this.isEnabled()&&a.Ad(this,this.Cb);if(this.ia&-2&&(this.md&&$e(this,!0),this.ia&32&&(a=this.sb()))){var b=this.yb||(this.yb=new De);Ee(b,a);this.vc().v(b,"key",this.Ee).v(a,"focus",this.Ce).v(a,"blur",this.Yd)}};
function $e(a,b){var c=a.vc(),d=a.g();b?(c.v(d,"mouseover",a.be).v(d,"mousedown",a.$d).v(d,"mouseup",a.ce).v(d,"mouseout",a.ae),a.xc!=da&&c.v(d,"contextmenu",a.xc),C&&c.v(d,"dblclick",a.Zd)):(c.Ea(d,"mouseover",a.be).Ea(d,"mousedown",a.$d).Ea(d,"mouseup",a.ce).Ea(d,"mouseout",a.ae),a.xc!=da&&c.Ea(d,"contextmenu",a.xc),C&&c.Ea(d,"dblclick",a.Zd))}n.Yb=function(){W.F.Yb.call(this);this.yb&&this.yb.detach();this.Cb&&this.isEnabled()&&this.U.Ad(this,!1)};
n.S=function(){W.F.S.call(this);this.yb&&(this.yb.qb(),delete this.yb);delete this.U;this.ra=this.nb=null};n.Qa=function(a){this.U.Qa(this.g(),a);this.nb=a};function Ve(a,b){a.nb=b}n.Ab=function(a){W.F.Ab.call(this,a);var b=this.g();b&&this.U.Ab(b,a)};n.Mc=function(a){this.ad=a;var b=this.g();b&&this.U.Mc(b,a)};n.isEnabled=function(){return!(this.N&1)};function cf(a,b){df(a,2,b)&&a.ga(2,b)}n.setActive=function(a){df(this,4,a)&&this.ga(4,a)};
n.ga=function(a,b){this.ia&a&&b!=!!(this.N&a)&&(this.U.ga(this,a,b),this.N=b?this.N|a:this.N&~a)};function X(a,b){return!!(a.ed&b)&&!!(a.ia&b)}function df(a,b,c){return!!(a.ia&b)&&!!(a.N&b)!=c&&(!(a.We&b)||a.dispatchEvent(Ne(b,c)))&&!a.tc}n.be=function(a){(!a.relatedTarget||!Mb(this.g(),a.relatedTarget))&&(this.dispatchEvent("enter")&&this.isEnabled()&&X(this,2))&&cf(this,!0)};
n.ae=function(a){a.relatedTarget&&Mb(this.g(),a.relatedTarget)||!this.dispatchEvent("leave")||(X(this,4)&&this.setActive(!1),X(this,2)&&cf(this,!1))};n.xc=da;n.$d=function(a){this.isEnabled()&&(X(this,2)&&cf(this,!0),fc(a)&&(X(this,4)&&this.setActive(!0),this.U.ie(this)&&this.sb().focus()));!this.ad&&fc(a)&&a.preventDefault()};n.ce=function(a){this.isEnabled()&&(X(this,2)&&cf(this,!0),this.N&4&&(ef(this,a)&&X(this,4))&&this.setActive(!1))};n.Zd=function(a){this.isEnabled()&&ef(this,a)};
function ef(a,b){if(X(a,16)){var c=!(a.N&16);df(a,16,c)&&a.ga(16,c)}X(a,8)&&df(a,8,!0)&&a.ga(8,!0);X(a,64)&&(c=!(a.N&64),df(a,64,c)&&a.ga(64,c));c=new ac("action",a);b&&(c.altKey=b.altKey,c.ctrlKey=b.ctrlKey,c.metaKey=b.metaKey,c.shiftKey=b.shiftKey,c.vd=b.vd);return a.dispatchEvent(c)}n.Ce=function(){X(this,32)&&df(this,32,!0)&&this.ga(32,!0)};n.Yd=function(){X(this,4)&&this.setActive(!1);X(this,32)&&df(this,32,!1)&&this.ga(32,!1)};
n.Ee=function(a){return this.Cb&&this.isEnabled()&&13==a.keyCode&&ef(this,a)?(a.preventDefault(),a.stopPropagation(),!0):!1};if(!r(W))throw Error("Invalid component class "+W);if(!r(Se))throw Error("Invalid renderer class "+Se);var ff=ka(W);Ye[ff]=Se;function gf(){return new W(null)}if(!r(gf))throw Error("Invalid decorator function "+gf);function lf(){}t(lf,Se);ea(lf);n=lf.prototype;n.Ub=function(a,b){Ze(a);a.ed&=-256;if(a.ta&&a.N&32)throw Error("Component already rendered");a.N&32&&a.ga(32,!1);a.ia&=-33;lf.F.Ub.call(this,a,b);a.Qa(b.value);return b};n.Tb=function(a){return"TEXTAREA"==a.tagName};n.Ab=da;n.ie=function(a){return a.isEnabled()};n.Ad=da;n.ga=function(a,b,c){lf.F.ga.call(this,a,b,c);(a=a.g())&&1==b&&(a.disabled=c)};n.Bb=da;n.Qa=function(a,b){a&&(a.value=b)};n.$b=aa("goog-textarea");function mf(a,b,c){W.call(this,a,b||lf.ac(),c);Ze(this);this.Mc(!0);a||(this.nb="")}t(mf,W);var nf=D||E;n=mf.prototype;n.xb=!1;n.Ja=0;n.Ke=0;n.ke=0;n.ee=!1;n.Fc=!1;n.yd=!1;n.xd=!1;function of(a){return a.ec.top+a.ec.bottom+a.Qd.top+a.Qd.bottom}function pf(a){var b=a.ke,c=a.g();b&&(c&&a.Fc)&&(b-=of(a));return b}function qf(a){var b=a.Ke,c=a.g();b&&(c&&a.Fc)&&(b-=of(a));return b}n.Qa=function(a){mf.F.Qa.call(this,a);this.g()&&this.ub()};
n.rb=function(){mf.F.rb.call(this);var a=this.g();M(a,{overflowY:"hidden",overflowX:"auto",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"});this.ec=$c(a,"padding");this.Qd=cd(a);this.vc().v(a,"scroll",this.ub).v(a,"focus",this.ub).v(a,"keyup",this.ub).v(a,"mouseup",this.Ne);this.g()&&this.ub()};
function rf(a){if(!a.ee){var b=a.g().cloneNode(!1);M(b,{position:"absolute",height:"auto",top:"-9999px",margin:"0",padding:"1px",border:"1px solid #000",overflow:"hidden"});a.Xd().ba.body.appendChild(b);var c=b.scrollHeight;b.style.padding="10px";var d=b.scrollHeight;a.yd=d>c;b.style.borderWidth="10px";a.xd=b.scrollHeight>d;b.style.height="100px";100!=b.offsetHeight&&(a.Fc=!0);Ib(b);a.ee=!0}var b=a.g(),c=a.g().scrollHeight,e=a.g(),d=e.offsetHeight-e.clientHeight;if(!a.yd)var g=a.ec,d=d-(g.top+g.bottom);
a.xd||(e=cd(e),d-=e.top+e.bottom);c+=0<d?d:0;a.Fc?c-=of(a):(a.yd||(d=a.ec,c+=d.top+d.bottom),a.xd||(a=cd(b),c+=a.top+a.bottom));return c}function sf(a,b){a.Ja!=b&&(a.Ja=b,a.g().style.height=b+"px")}function tf(a){a=a.g();a.style.height="auto";var b=a.value.match(/\n/g)||[];a.rows=b.length+1}
n.ub=function(){if(!this.xb){var a=!1;this.xb=!0;var b=this.g(),c=this.Ja;if(b.scrollHeight){var d=!1,e=!1,g=rf(this),h=b.offsetHeight,k=pf(this),l=qf(this);k&&g<k?(sf(this,k),d=!0):l&&g>l?(sf(this,l),b.style.overflowY="",e=!0):h!=g?sf(this,g):this.Ja||(this.Ja=g);d||(e||!nf)||(a=!0)}else tf(this);this.xb=!1;a&&(a=this.g(),this.xb||(this.xb=!0,(d=a.scrollHeight)?(e=rf(this),b=pf(this),g=qf(this),b&&e<=b||g&&e>=g||(g=this.ec,a.style.paddingBottom=g.bottom+1+"px",rf(this)==e&&(a.style.paddingBottom=
g.bottom+d+"px",a.scrollTop=0,d=rf(this)-d,d>=b?sf(this,d):sf(this,b)),a.style.paddingBottom=g.bottom+"px")):tf(this),this.xb=!1));c!=this.Ja&&this.dispatchEvent("resize")}};n.Ne=function(){var a=this.g(),b=a.offsetHeight;a.filters&&a.filters.length&&(a=a.filters.item("DXImageTransform.Microsoft.DropShadow"))&&(b-=a.offX);b!=this.Ja&&(this.Ja=this.ke=b)};C&&F(8);function uf(a){return a&&a.fd&&a.fd===ae?a.content:String(a).replace(vf,wf)}var xf={"\x00":"\x26#0;",'"':"\x26quot;","\x26":"\x26amp;","'":"\x26#39;","\x3c":"\x26lt;","\x3e":"\x26gt;","\t":"\x26#9;","\n":"\x26#10;","\x0B":"\x26#11;","\f":"\x26#12;","\r":"\x26#13;"," ":"\x26#32;","-":"\x26#45;","/":"\x26#47;","\x3d":"\x26#61;","`":"\x26#96;","\u0085":"\x26#133;","\u00a0":"\x26#160;","\u2028":"\x26#8232;","\u2029":"\x26#8233;"};function wf(a){return xf[a]}var vf=/[\x00\x22\x26\x27\x3c\x3e]/g;function yf(){return'\x3cdiv class\x3d"annotorious-popup top-left" style\x3d"position:absolute;z-index:1"\x3e\x3cdiv class\x3d"annotorious-popup-buttons"\x3e\x3ca role\x3d"button" class\x3d"annotorious-popup-button annotorious-popup-button-edit" title\x3d"Edit"\x3eEDIT\x3c/a\x3e\x3ca role\x3d"button" class\x3d"annotorious-popup-button annotorious-popup-button-delete" title\x3d"Delete"\x3eDELETE\x3c/a\x3e\x3c/div\x3e\x3cspan class\x3d"annotorious-popup-text"\x3e\x3c/span\x3e\x3c/div\x3e'}
function zf(){return'\x3cdiv class\x3d"annotorious-editor" style\x3d"position:absolute;z-index:1"\x3e\x3cform\x3e\x3ctextarea class\x3d"annotorious-editor-text" placeholder\x3d"Add a Comment..." tabindex\x3d"1"\x3e\x3c/textarea\x3e\x3cdiv class\x3d"annotorious-editor-button-container"\x3e\x3ca role\x3d"button" class\x3d"annotorious-editor-button annotorious-editor-button-cancel" tabindex\x3d"3"\x3eCancel\x3c/a\x3e\x3ca role\x3d"button" class\x3d"annotorious-editor-button annotorious-editor-button-save" tabindex\x3d"2"\x3eSave\x3c/a\x3e\x3c/div\x3e\x3c/form\x3e\x3c/div\x3e'};function Af(a){this.element=ce(zf);this.d=a;this.ve=a.getItem();this.fa=new mf("");this.Qc=I(".annotorious-editor-button-cancel",this.element)[0];this.ic=I(".annotorious-editor-button-save",this.element)[0];this.Fd=Lb(this.ic);this.Jb=[];this.$a=!1;this.c={Xb:!0,wd:!1,Sa:{placeholder:"Add a Comment...",className:"annotorious-editor-text"},buttons:{save:{text:"Save",className:"annotorious-editor-button annotorious-editor-button-save"},abort:{text:"Cancel",className:"annotorious-editor-button annotorious-editor-button-cancel"}},
Aa:void 0};this.h=JSON.parse(JSON.stringify(this.c));var b=this;K(this.Qc,"click",function(c){c.preventDefault();a.stopSelection(b.Mb);b.close()});K(this.ic,"click",function(c){c.preventDefault();if(!b.$a||!b.m.options[0].disabled||0!=b.m.selectedIndex&&b.m.value){c=b.Mb?{text:b.Mb.text,textId:b.Mb.textId}:void 0;var d=b.Wd();a.R(d);a.stopSelection();b.Mb?a.fireEvent("onAnnotationUpdated",d,c):a.fireEvent("onAnnotationCreated",d,a.getItem());b.close()}});R(this.element,!1);a.element.appendChild(this.element);
this.fa.Ub(I(".annotorious-editor-text",this.element)[0]);pd(this.element,function(){var a=b.fa;a.g()&&a.ub()})}n=Af.prototype;n.Sb=function(a){var b=Eb("div","annotorious-editor-field");q(a)?b.innerHTML=a:r(a)?this.Jb.push({Y:b,jd:a}):Kb(a)&&b.appendChild(a);Hb(b,this.Fd)};
n.open=function(a){this.d.fireEvent("beforeEditorShown",a);this.jb=this.Mb=a;R(this.element,!0);this.$a?this.c.Xb?(this.m.classList.remove("d-none"),a&&-1<this.m.innerHTML.indexOf('value\x3d"'+a.text+'"')?this.m.value=a.text:this.m.options[0].selected=!0):this.m.classList.add("d-none"):this.c.Xb?(bf(this.fa,"d-none"),a&&this.fa.Qa(String(a.text)),this.fa.g().focus()):af(this.fa,"d-none");y(this.Jb,function(b){var c=b.jd(a);q(c)?b.Y.innerHTML=c:Kb(c)&&(Gb(b.Y),b.Y.appendChild(c))});this.d.fireEvent("onEditorShown",
a)};n.close=function(){R(this.element,!1);this.$a?this.m.value="":this.fa.Qa("")};n.setPosition=function(a){Kc(this.element,a.x,a.y)};n.Wd=function(){var a=xe(this.$a?this.m.value:this.fa.g().value,function(a){return a}),b=this.$a?this.m.options[this.m.selectedIndex].getAttribute("valueid"):void 0;this.jb?(this.jb.text=self.c.Xb?a:void 0,this.jb.textId=b):(this.jb=new Qd(this.ve.src,a,this.d.Ha().getShape(),void 0,b),this.jb.editable=!this.c.wd);return this.jb};
n.D=function(a){a instanceof Object&&0!==Object.keys(a).length?(a.hasOwnProperty("enterText")&&(this.c.Xb="boolean"===typeof a.enterText?a.enterText:this.h.Xb),a.hasOwnProperty("saveReadOnly")&&(this.c.wd=a.saveReadOnly||this.h.wd),a.hasOwnProperty("textarea")&&(a.textarea instanceof Object&&0!==Object.keys(a.textarea).length?(a.textarea.hasOwnProperty("placeholder")&&(this.c.Sa.placeholder=a.textarea.placeholder||this.h.Sa.placeholder),a.textarea.hasOwnProperty("className")&&(this.c.Sa.className=
a.textarea.className||this.h.Sa.className)):this.c.Sa=Object.assign({},this.h.Sa)),a.hasOwnProperty("buttons")&&(a.buttons instanceof Object&&0!==Object.keys(a.buttons).length?(a.buttons.hasOwnProperty("save")&&(a.buttons.save instanceof Object&&0!==Object.keys(a.buttons.save).length?(a.buttons.save.hasOwnProperty("text")&&(this.c.buttons.save.text=a.buttons.save.text||this.h.buttons.save.text),a.buttons.save.hasOwnProperty("className")&&(this.c.buttons.save.className=a.buttons.save.className||this.h.buttons.save.className)):
this.c.buttons.save=Object.assign({},this.h.buttons.save)),a.buttons.hasOwnProperty("abort")&&(a.buttons.abort instanceof Object&&0!==Object.keys(a.buttons.abort).length?(a.buttons.abort.hasOwnProperty("text")&&(this.c.buttons.abort.text=a.buttons.abort.text||this.h.buttons.abort.text),a.buttons.abort.hasOwnProperty("className")&&(this.c.buttons.abort.className=a.buttons.abort.className||this.h.buttons.abort.className)):this.c.buttons.abort=Object.assign({},this.h.buttons.abort))):this.c.buttons=
JSON.parse(JSON.stringify(this.h.buttons))),a.hasOwnProperty("extraFields")&&(this.c.Aa=a.extraFields)):this.c=JSON.parse(JSON.stringify(this.h));this.fa.g().placeholder=this.c.Sa.placeholder;this.fa.g().className=this.c.Sa.className;this.ic.innerHTML=this.c.buttons.save.text;this.ic.className=this.c.buttons.save.className;this.Qc.innerHTML=this.c.buttons.abort.text;this.Qc.className=this.c.buttons.abort.className;(a=I(".annotorious-editor-field",this.element)[0])&&a.remove();if(this.c.Aa&&Array.isArray(this.c.Aa)){var b=
this;y(this.c.Aa,function(a){b.Sb(a)})}};
function Bf(a,b){var c=!1;a.$a=b&&b instanceof Object&&b.enabled&&(c=Array.isArray(b.options))?!0:!1;a.$a?(af(a.fa,"d-none"),a.m?a.m.innerHTML="":(a.m=document.createElement("select"),a.m.classList.add("annotorious-editor-text")),c=b.options.slice(),c.unshift({value:""}),y(c,function(b){var c=new Option(b.value,b.value);if(b.id){var g=document.createAttribute("valueid");g.value=b.id;c.setAttributeNode(g)}a.m.appendChild(c)}),b.emptyOption||(a.m.options[0].disabled=!0,a.m.options[0].innerHTML=b.customLabel||
"\x3c--- Select one option ---\x3e"),Hb(a.m,a.Fd)):(c||console.log("WARNING: invalid option format"),bf(a.fa,"d-none"),a.m&&(a.m.remove(),delete a.m))}Af.prototype.addField=Af.prototype.Sb;Af.prototype.getAnnotation=Af.prototype.Wd;function Cf(a,b,c){var d=this;c||(c="Click and Drag to Annotate");this.element=ce(Df,{Ec:c});this.d=a;this.Kd=I(".annotorious-hint-msg",this.element)[0];this.Id=I(".annotorious-hint-icon",this.element)[0];this.Zc=function(){d.show()};this.Yc=function(){Ef(d)};this.Db();Ef(this);b.appendChild(this.element)}
Cf.prototype.Db=function(){var a=this;this.Md=K(this.Id,"mouseover",function(){a.show();window.clearTimeout(a.Xc)});this.Ld=K(this.Id,"mouseout",function(){Ef(a)});this.d.addHandler("onMouseOverItem",this.Zc);this.d.addHandler("onMouseOutOfItem",this.Yc)};Cf.prototype.Ua=function(){L(this.Md);L(this.Ld);this.d.wa("onMouseOverItem",this.Zc);this.d.wa("onMouseOutOfItem",this.Yc)};
Cf.prototype.show=function(){window.clearTimeout(this.Xc);Q(this.Kd,0.8);var a=this;this.Xc=window.setTimeout(function(){Ef(a)},3E3)};function Ef(a){window.clearTimeout(a.Xc);Q(a.Kd,0)}Cf.prototype.destroy=function(){this.Ua();delete this.Md;delete this.Ld;delete this.Zc;delete this.Yc;Ib(this.element)};function Ff(a){this.element=ce(yf);this.d=a;this.xe=I(".annotorious-popup-text",this.element)[0];this.ja=I(".annotorious-popup-buttons",this.element)[0];this.Tc=!1;this.Jb=[];this.c={Aa:void 0};this.h=JSON.parse(JSON.stringify(this.c));var b=I(".annotorious-popup-button-edit",this.ja)[0],c=I(".annotorious-popup-button-delete",this.ja)[0],d=this;K(b,"mouseover",function(){pb(b,"annotorious-popup-button-active")});K(b,"mouseout",function(){rb(b,"annotorious-popup-button-active")});K(b,"click",function(){Q(d.element,
0);M(d.element,"pointer-events","none");a.hd(d.j)});K(c,"mouseover",function(){pb(c,"annotorious-popup-button-active")});K(c,"mouseout",function(){rb(c,"annotorious-popup-button-active")});K(c,"click",function(){a.fireEvent("beforeAnnotationRemoved",d.j)||(Q(d.element,0),M(d.element,"pointer-events","none"),a.T(d.j),a.fireEvent("onAnnotationRemoved",d.j))});Gf&&(K(this.element,"mouseover",function(){window.clearTimeout(d.Sc);0.9>Ic(d.ja,"opacity")&&Q(d.ja,0.9);d.clearHideTimer()}),K(this.element,
"mouseout",function(){Q(d.ja,0);d.startHideTimer()}),a.addHandler("onMouseOutOfItem",function(){d.startHideTimer()}));Q(this.ja,0);Q(this.element,0);M(this.element,"pointer-events","none");a.element.appendChild(this.element)}n=Ff.prototype;n.Sb=function(a){var b=Eb("div","annotorious-popup-field");q(a)?b.innerHTML=a:r(a)?this.Jb.push({Y:b,jd:a}):Kb(a)&&b.appendChild(a);this.element.appendChild(b)};
n.startHideTimer=function(){this.Tc=!1;if(!this.Pb){var a=this;this.Pb=window.setTimeout(function(){a.d.fireEvent("beforePopupHide",a);a.Tc||(Q(a.element,0),M(a.element,"pointer-events","none"),Q(a.ja,0.9),delete a.Pb)},150)}};n.clearHideTimer=function(){this.Tc=!0;this.Pb&&(window.clearTimeout(this.Pb),delete this.Pb)};
n.show=function(a,b){this.clearHideTimer();b&&this.setPosition(b);a&&this.setAnnotation(a);this.Sc&&window.clearTimeout(this.Sc);Q(this.ja,0.9);if(Gf){var c=this;this.Sc=window.setTimeout(function(){Q(c.ja,0)},1E3)}Q(this.element,0.9);M(this.element,"pointer-events","auto");this.d.fireEvent("onPopupShown",this.j)};n.setPosition=function(a){Kc(this.element,new G(a.x,a.y))};
n.setAnnotation=function(a){this.j=a;this.xe.innerHTML=a.text?a.text.replace(/\n/g,"\x3cbr/\x3e"):'\x3cspan class\x3d"annotorious-popup-empty"\x3eNo comment\x3c/span\x3e';"editable"in a&&!1==a.editable?R(this.ja,!1):R(this.ja,!0);y(this.Jb,function(b){var c=b.jd(a);q(c)?b.Y.innerHTML=c:Kb(c)&&(Gb(b.Y),b.Y.appendChild(c))})};
n.D=function(a){a instanceof Object&&0!==Object.keys(a).length?a.hasOwnProperty("extraFields")&&(this.c.Aa=a.extraFields):this.c=JSON.parse(JSON.stringify(this.h));(a=I(".annotorious-popup-field",this.element)[0])&&a.remove();if(this.c.Aa&&Array.isArray(this.c.Aa)){var b=this;y(this.c.Aa,function(a){b.Sb(a)})}};Ff.prototype.addField=Ff.prototype.Sb;function Hf(){}n=Hf.prototype;n.R=function(a,b){this.l.R(a,b)};n.addHandler=function(a,b){this.O.addHandler(a,b)};n.wa=function(a){this.O.wa(a)};n.fireEvent=function(a,b,c){return this.O.fireEvent(a,b,c)};n.Ha=m("P");n.J=function(a){this.l.J(a)};n.T=function(a){this.l.T(a)};n.wa=function(a,b){this.O.wa(a,b)};n.stopSelection=function(a){Gf&&R(this.f,!1);this.Rb&&(this.Rb(),delete this.Rb);this.P.stopSelection();a&&this.l.R(a)};
function If(a,b){K(b,Jf,function(c){c=Kf(c,b);a.l.J(!1);var d=void 0;if(a.Qb){if(a.Hd){d=a.l.na(c.x,c.y);if(!d.length)return;d=d.filter(function(a){return a.shapes[0].type==U});if(!d.length)return}R(a.f,!0);a.P.startSelection(c.x,c.y,d?a.l.H[V(d[0].shapes[0])]:void 0)}else d=a.l.na(c.x,c.y),0<d.length&&a.l.J(d[0])})};function Lf(a,b){this.n=a;this.d=b;this.gb=[];this.H=[];this.B=this.n.getContext("2d");this.kb=!0;this.kc=!1;this.e={enabled:!1,nd:!1,mode:"active",color:"#2ECC71",strokeWidth:2,lc:!1,Ib:[],Vc:[],we:0};this.Gb=Object.assign({},this.e);var c=this;K(this.n,Mf,function(a){var b=Nf(c.d,Kf(a,c.n));if(c.kb)a:{var g=c.Cd(a.offsetX,a.offsetY);g&&(c.kc=c.kc&&g==c.j);if(c.e.enabled&&c.e.lc){if(c.e.nd&&(c.e.gc||(c.e.gc=c.j||g),!c.j||!g||!Jd(c.H[V(c.e.gc.shapes[0])],a.offsetX,a.offsetY)))break a;var g=new yd("point",
new T(a.offsetX,a.offsetY),!1,{fill:c.e.color,strokeWidth:c.e.strokeWidth}),h="pixel"==c.d.Kc?b:c.d.Ta(g.geometry);c.e.Ib.push(h);"release"!=c.e.mode&&c.e.Vc.push(g);Of(c,g)}else c.j?c.j==g&&c.kc||(c.kb=!1,c.d.popup.startHideTimer()):(c.j=g,Pf(c),c.d.fireEvent("onMouseOverAnnotation",{I:c.j,mouseEvent:a}))}else c.Eb=a;c.d.fireEvent("onMouseMoveOverItem",{cursor:b},a)});K(this.n,Jf,function(){c.e.enabled&&(c.e.lc=!0);void 0!==c.j&&!1!=c.j&&c.d.fireEvent("onAnnotationClicked",c.j)});b.addHandler("onMouseOutOfItem",
function(){delete c.j;c.kb=!0});b.addHandler("beforePopupHide",function(){if(!c.kb&&c.Eb){var a=c.j;c.j=c.Cd(c.Eb.offsetX,c.Eb.offsetY);c.kb=!0;a!=c.j?(Pf(c),c.d.fireEvent("onMouseOutOfAnnotation",{I:a,mouseEvent:c.Eb}),c.d.fireEvent("onMouseOverAnnotation",{I:c.j,mouseEvent:c.Eb})):c.j&&c.d.popup.clearHideTimer()}else Pf(c)})}n=Lf.prototype;
n.R=function(a,b){b&&(b==this.j&&delete this.j,A(this.gb,b),delete this.H[V(b.shapes[0])]);if(!this.H[V(a.shapes[0])]){this.gb.push(a);var c=a.shapes[0],d=this;"pixel"==c.units?(c=Od(c,function(a){return Qf(d.d,a)}),"fraction"==this.d.Kc&&(a.shapes[0]=Od(c,function(a){return d.d.Ta(a)}),a.shapes[0].units="fraction")):(c=Od(c,function(a){return d.d.eb(a)}),"pixel"==this.d.Kc&&(a.shapes[0]=Od(c,function(a){return Nf(d.d,a)}),a.shapes[0].units="pixel"));this.H[V(a.shapes[0])]=c;Pf(this)}};
n.T=function(a){a==this.j&&delete this.j;A(this.gb,a);delete this.H[V(a.shapes[0])];Pf(this)};n.M=function(){return Ha(this.gb)};n.J=function(a){(this.j=a)?this.kc=!0:this.d.popup.startHideTimer();Pf(this);this.kb=!0};n.Cd=function(a,b){var c=this.na(a,b);if(0<c.length)return c[0]};n.na=function(a,b){var c=[],d=this;y(this.gb,function(e){Jd(d.H[V(e.shapes[0])],a,b)&&c.push(e)});Ka(c,function(a,b){var c=d.H[V(a.shapes[0])],k=d.H[V(b.shapes[0])];return Ld(c)-Ld(k)});return c};
function Of(a,b,c){var d=Fa(a.d.Ia(),function(a){a=a.getSupportedShapeType();return Array.isArray(a)?-1!=Ba(a,b.type):a==b.type});d?d.drawShape(a.B,b,c):console.log("WARNING unsupported shape type: "+b.type)}
function Pf(a){if(!a.e.enabled||!a.e.lc){a.B.clearRect(0,0,a.n.width,a.n.height);y(a.gb,function(b){b!=a.j&&Of(a,a.H[V(b.shapes[0])])});if(a.j){var b=a.H[V(a.j.shapes[0])];Of(a,b,!0);b=Md(b).geometry;a.d.popup.show(a.j,new T(b.x,b.y+b.height+5))}"release"!=a.e.mode&&y(a.e.Vc,function(b){Of(a,b)})}}
n.zd=function(a){a instanceof Object&&0!==Object.keys(a).length?(this.e.enabled=a.enabled,this.e.nd="boolean"===typeof a.insideAnno?a.insideAnno:this.Gb.nd,"permanent"===a.mode||"release"===a.mode?this.e.mode=a.mode:"permanent"!==this.e.mode&&(this.e.mode=this.Gb.mode),this.e.color=a.color?a.color:this.Gb.color,this.e.strokeWidth=a.strokeWidth?a.strokeWidth:this.Gb.strokeWidth):(a=this.e.mode,this.e=Object.assign({Q:this.e.Q},this.Gb),"permanent"===a&&(this.e.mode=a));if(this.e.enabled){if(!this.e.Q){var b=
this;this.e.Q=K(this.n,Rf,function(){b.e.lc=!1;0<b.e.Ib.length&&b.d.fireEvent("onDrawnPixels",{drawnPixels:b.e.Ib,annotation:b.e.gc});b.e.Ib=[];b.e.gc=void 0;b.e.we=0;"release"===b.e.mode&&Pf(b)})}this.d.Z()}else this.e.Q&&(L(this.e.Q),delete this.e.Q),"active"===this.e.mode&&(this.e.Vc=[],Pf(this)),this.e.Ib=[],this.d.da()};var Sf="ontouchstart"in window,Gf=!Sf,Jf=Sf?"touchstart":"mousedown",Tf=Sf?"touchenter":"mouseover",Mf=Sf?"touchmove":"mousemove",Rf=Sf?"touchend":"mouseup",Uf=Sf?"touchleave":"mouseout";function Kf(a,b){var c=!1;a.offsetX=a.offsetX?a.offsetX:!1;a.offsetY=a.offsetY?a.offsetY:!1;return c=a.offsetX&&a.offsetY||!a.A.changedTouches?{x:a.offsetX,y:a.offsetY}:{x:a.A.changedTouches[0].clientX-nd(b).left,y:a.A.changedTouches[0].clientY-nd(b).top}};function Vf(){}n=Vf.prototype;n.init=function(a,b){this.n=b;this.d=a;this.B=b.getContext("2d");this.Va=!1;this.c={outline:"#000000",outlineWidth:1,hiOutline:"#000000",hiOutlineWidth:1,stroke:"#ffffff",strokeWidth:1,hiStroke:"#fff000",hiStrokeWidth:1.2,fill:void 0,hiFill:void 0,maskTransparency:0.8,maskBorder:!0};this.h=Object.assign({},this.c);this.Pd=!1};
n.Db=function(a,b){var c=this,d=this.n;this.Xa=K(this.n,Mf,function(a){var g=Kf(a,d);if(c.Va&&(!b||Jd(b,g.x,g.y))){c.W={x:g.x,y:g.y};c.B.clearRect(0,0,d.width,d.height);var h=c.W.x-c.V.x,k=c.W.y-c.V.y,g=Nf(c.d,g),l=Nf(c.d,{x:c.V.x,y:c.V.y,width:h,height:k});c.d.fireEvent("onMouseMoveOverItem",{cursor:g,box:l},a);c.Pd?(a=c.getViewportBounds(),k=Math.abs(k),h=Math.abs(h),c.B.lineWidth=c.B.lineWidth=c.c.strokeWidth,c.B.strokeStyle=c.c.stroke,c.B.fillStyle="rgba(0,0,0,0.45)",c.B.fillRect(0,0,c.n.width,
a.top),c.B.fillRect(a.right,a.top,c.n.width-a.right,k),c.B.fillRect(0,a.bottom,c.n.width,c.n.height-a.bottom),c.B.fillRect(0,a.top,a.left,k),c.B.strokeRect(a.left+0.5,a.top+0.5,h,k)):c.drawShape(c.B,{type:U,geometry:{x:0<h?c.V.x:c.W.x,y:0<k?c.V.y:c.W.y,width:Math.abs(h),height:Math.abs(k)},style:{}})}});this.Ya=K(d,Rf,function(a){var b=Kf(a,d),h=c.getShape();a=a.A?a.A:a;c.Va=!1;h?(c.Ua(),c.d.fireEvent("onSelectionCompleted",{mouseEvent:a,shape:h,viewportBounds:c.getViewportBounds()})):(c.d.fireEvent("onSelectionCanceled"),
a=c.d.na(b.x,b.y),0<a.length&&c.d.J(a[0]))})};n.Ua=function(){this.Xa&&(L(this.Xa),delete this.Xa);this.Ya&&(L(this.Ya),delete this.Ya)};n.getName=aa("rect_drag");n.getSupportedShapeType=function(){return[U,"point"]};function Wf(a,b){a.Pd=b}
n.D=function(a){a instanceof Object&&0!==Object.keys(a).length?(a.hasOwnProperty("outline")&&(this.c.outline=a.outline||this.h.outline),a.hasOwnProperty("outlineWidth")&&(this.c.outlineWidth=a.outlineWidth||this.h.outlineWidth),a.hasOwnProperty("hiOutline")&&(this.c.hiOutline=a.hiOutline||this.h.hiOutline),a.hasOwnProperty("hiOutlineWidth")&&(this.c.hiOutlineWidth=a.hiOutlineWidth||this.h.hiOutlineWidth),a.hasOwnProperty("stroke")&&(this.c.stroke=a.stroke||this.h.stroke),a.hasOwnProperty("strokeWidth")&&
(this.c.strokeWidth=a.strokeWidth||this.h.strokeWidth),a.hasOwnProperty("hiStroke")&&(this.c.hiStroke=a.hiStroke||this.h.hiStroke),a.hasOwnProperty("hiStrokeWidth")&&(this.c.hiStrokeWidth=a.hiStrokeWidth||this.h.hiStrokeWidth),a.hasOwnProperty("fill")&&(this.c.fill=a.fill||this.h.fill),a.hasOwnProperty("hiFill")&&(this.c.hiFill=a.hiFill||this.h.hiFill),a.hasOwnProperty("maskTransparency")&&(this.c.maskTransparency=a.maskTransparency||this.h.maskTransparency),a.hasOwnProperty("maskBorder")&&(this.c.maskBorder=
"boolean"===typeof a.maskBorder?a.maskBorder:this.h.maskBorder)):this.c=Object.assign({},this.h)};n.startSelection=function(a,b,c){var d={x:a,y:b};this.Va=!0;this.Db(d,c);this.V=new T(a,b);this.d.fireEvent("onSelectionStarted",{offsetX:a,offsetY:b});M(document.body,"-webkit-user-select","none")};n.stopSelection=function(){this.Ua();this.B.clearRect(0,0,this.n.width,this.n.height);M(document.body,"-webkit-user-select","auto");delete this.W};
n.getShape=function(){if(this.W&&3<Math.abs(this.W.x-this.V.x)&&3<Math.abs(this.W.y-this.V.y)){var a=this.getViewportBounds(),a=this.d.Ta({x:a.left,y:a.top,width:a.right-a.left,height:a.bottom-a.top});return new yd(U,a)}};n.getViewportBounds=function(){var a,b;this.W.x>this.V.x?(a=this.W.x,b=this.V.x):(a=this.V.x,b=this.W.x);var c,d;this.W.y>this.V.y?(c=this.V.y,d=this.W.y):(c=this.W.y,d=this.V.y);return{top:c,right:a,bottom:d,left:b}};
n.drawShape=function(a,b,c){var d=b.geometry,e,g,h,k,l;b.style||(b.style={});if(b.type==U){c?(g=b.style.hiFill||this.c.hiFill,e=b.style.hiStroke||this.c.hiStroke,h=b.style.hiOutline||this.c.hiOutline,k=b.style.hiOutlineWidth||this.c.hiOutlineWidth,l=b.style.hiStrokeWidth||this.c.hiStrokeWidth):(g=b.style.fill||this.c.fill,e=b.style.stroke||this.c.stroke,h=b.style.outline||this.c.outline,k=b.style.outlineWidth||this.c.outlineWidth,l=b.style.strokeWidth||this.c.strokeWidth);if(b.mask){if(!b.hasOwnProperty("_loadedMask")||
b._loadedMask.url!=b.mask){Object.defineProperty(b,"_loadedMask",{enumerable:!1,writable:!0});var s=this;b._loadedMask={Bc:new Image,url:b.mask};b._loadedMask.Bc.onload=function(){s.drawShape(a,b,c)};b._loadedMask.Bc.src=b.mask}if(b._loadedMask.Bc){a.globalAlpha=b.style.maskTransparency||this.c.maskTransparency;a.drawImage(b._loadedMask.Bc,d.x,d.y,d.width,d.height);a.globalAlpha=1;if(void 0!=b.style.maskBorder&&!b.style.maskBorder||void 0==b.style.maskBorder&&!this.c.maskBorder)return;d={x:d.x-l-
k,y:d.y-l-k,width:d.width+l+k,height:d.height+l+k}}}a.lineJoin="round";a.lineWidth=k;a.strokeStyle=h;a.strokeRect(d.x+k/2,d.y+k/2,d.width-k,d.height-k);a.lineJoin="miter";a.lineWidth=l;a.strokeStyle=e;a.strokeRect(d.x+k+l/2,d.y+k+l/2,d.width-2*k-l,d.height-2*k-l);g&&(a.lineJoin="miter",a.lineWidth=l,a.fillStyle=g,a.fillRect(d.x+k+l/2,d.y+k+l/2,d.width-2*k-l,d.height-2*k-l))}else"point"==b.type&&(g=b.style.fill||this.c.fill,l=b.style.strokeWidth||this.c.strokeWidth,a.beginPath(),a.fillStyle=g,a.arc(d.x,
d.y,l,0,l*Math.PI,!1),a.fill())};function Pd(a,b){this.arrowTail=a;this.arrowHead=b}function Kd(a){var b,c;a.arrowHead.x>a.arrowTail.x?(b=a.arrowHead.x,c=a.arrowTail.x):(b=a.arrowTail.x,c=a.arrowHead.x);var d;a.arrowHead.y>a.arrowTail.y?(d=a.arrowTail.y,a=a.arrowHead.y):(d=a.arrowHead.y,a=a.arrowTail.y);return new xd(c,d,b-c,a+5-d)};function Xf(){}n=Xf.prototype;n.init=function(a,b){this.n=b;this.d=a;this.B=b.getContext("2d");this.Va=!1;this.c={oc:"#ffffff",pc:2,yc:"#fff000",zc:2.2};this.h=Object.assign({},this.c)};
n.Db=function(a,b){var c=this,d=this.n;this.Xa=K(this.n,Mf,function(a){var g=Kf(a,d);!c.Va||b&&!Jd(b,g.x,g.y)||(c.ea=new T(g.x,g.y),c.B.clearRect(0,0,d.width,d.height),g=Nf(c.d,g),c.d.fireEvent("onMouseMoveOverItem",{cursor:g},a),c.drawShape(c.B,{type:"arrow",geometry:new Pd(c.oa,c.ea),style:{}}))});this.Ya=K(d,Rf,function(a){var b=Kf(a,d),h=c.getShape();a=a.A?a.A:a;c.Va=!1;h?(c.Ua(),c.d.fireEvent("onSelectionCompleted",{mouseEvent:a,shape:h,viewportBounds:c.getViewportBounds()})):(c.d.fireEvent("onSelectionCanceled"),
a=c.d.na(b.x,b.y),0<a.length&&c.d.J(a[0]))})};n.Ua=function(){this.Xa&&(L(this.Xa),delete this.Xa);this.Ya&&(L(this.Ya),delete this.Ya)};n.getName=aa("arrow_drag");n.getSupportedShapeType=aa("arrow");
n.D=function(a){a instanceof Object&&0!==Object.keys(a).length?(a.hasOwnProperty("arrowStroke")&&(this.c.oc=a.arrowStroke||this.h.oc),a.hasOwnProperty("arrowStrokeWidth")&&(this.c.pc=a.arrowStrokeWidth||this.h.pc),a.hasOwnProperty("hiArrowStroke")&&(this.c.yc=a.hiArrowStroke||this.h.yc),a.hasOwnProperty("hiArrowStrokeWidth")&&(this.c.zc=a.hiArrowStrokeWidth||this.h.zc)):this.c=Object.assign({},this.h)};
n.startSelection=function(a,b,c){var d={x:a,y:b};this.Va=!0;this.Db(d,c);this.oa=new T(a,b);this.d.fireEvent("onSelectionStarted",{offsetX:a,offsetY:b});M(document.body,"-webkit-user-select","none")};n.stopSelection=function(){this.Ua();this.B.clearRect(0,0,this.n.width,this.n.height);M(document.body,"-webkit-user-select","auto");delete this.ea};n.getShape=function(){if(this.ea&&(5<Math.abs(this.ea.x-this.oa.x)||5<Math.abs(this.ea.y-this.oa.y)))return new yd("arrow",new Pd(this.d.Ta(this.oa),this.d.Ta(this.ea)))};
n.getViewportBounds=function(){var a,b;this.ea.x>this.oa.x?(a=this.ea.x,b=this.oa.x):(a=this.oa.x,b=this.ea.x);var c,d;this.ea.y>this.oa.y?(c=this.oa.y,d=this.ea.y):(c=this.ea.y,d=this.oa.y);return{top:c,right:a,bottom:d+5,left:b}};
n.drawShape=function(a,b,c){b.style||(b.style={});if("arrow"==b.type){var d=b.geometry;c?(a.strokeStyle=a.fillStyle=b.style.yc||this.c.yc,a.lineWidth=b.style.zc||this.c.zc):(a.strokeStyle=a.fillStyle=b.style.oc||this.c.oc,a.lineWidth=b.style.pc||this.c.pc);b=Math.PI/5;c=3*a.lineWidth;var e=Math.sqrt((d.arrowHead.x-d.arrowTail.x)*(d.arrowHead.x-d.arrowTail.x)+(d.arrowHead.y-d.arrowTail.y)*(d.arrowHead.y-d.arrowTail.y)),g=(e-c/3)/e,e=Math.round(d.arrowTail.x+(d.arrowHead.x-d.arrowTail.x)*g),g=Math.round(d.arrowTail.y+
(d.arrowHead.y-d.arrowTail.y)*g);a.beginPath();a.moveTo(d.arrowTail.x,d.arrowTail.y);a.lineTo(e,g);a.stroke();var h=Math.atan2(d.arrowHead.y-d.arrowTail.y,d.arrowHead.x-d.arrowTail.x),e=Math.abs(c/Math.cos(b)),g=h+Math.PI+b;c=d.arrowHead.x+Math.cos(g)*e;g=d.arrowHead.y+Math.sin(g)*e;h=h+Math.PI-b;b=d.arrowHead.x+Math.cos(h)*e;e=d.arrowHead.y+Math.sin(h)*e;a.save();a.beginPath();a.moveTo(c,g);a.lineTo(d.arrowHead.x,d.arrowHead.y);a.lineTo(b,e);a.beginPath();a.moveTo(c,g);a.lineTo(d.arrowHead.x,d.arrowHead.y);
a.lineTo(b,e);a.lineTo(c,g);a.fill();a.restore()}};function Yf(a){return'\x3ccanvas class\x3d"annotorious-item annotorious-opacity-fade" style\x3d"position:absolute; top:0px; left:0px; width:'+uf(a.width)+"px; height:"+uf(a.height)+'px; z-index:0" width\x3d"'+uf(a.width)+'" height\x3d"'+uf(a.height)+'"\x3e\x3c/canvas\x3e'}
function Df(a){return'\x3cdiv class\x3d"annotorious-hint" style\x3d"white-space:nowrap; position:absolute; top:0px; left:0px; pointer-events:none;"\x3e\x3cdiv class\x3d"annotorious-hint-msg annotorious-opacity-fade"\x3e'+uf(a.Ec)+'\x3c/div\x3e\x3cdiv class\x3d"annotorious-hint-icon" style\x3d"pointer-events:auto"\x3e\x3c/div\x3e\x3c/div\x3e'};function Zf(a,b){this.C=a;this.Nd={padding:a.style.padding,margin:a.style.margin};this.Gd=void 0;this.Kc="fraction";this.O=new qd;this.Fa=[];this.Qb=!0;this.Hd=!1;this.G={enabled:!1,gd:!1,color:"#ffffff",strokeWidth:2};this.Hb=Object.assign({},this.G);this.element=Eb("div","annotorious-annotationlayer");M(this.element,"position","relative");M(this.element,"display","inline-block");$f(a,this.element);Jb(this.element,a);this.element.appendChild(a);var c=Vc(a);this.Uc=ce(Yf,{width:c.width,height:c.height});
this.element.appendChild(this.Uc);this.xa=ce(Yf,{width:c.width,height:c.height});Gf&&pb(this.xa,"annotorious-item-unfocus");this.element.appendChild(this.xa);this.f=ce(Yf,{width:c.width,height:c.height});Gf&&R(this.f,!1);this.element.appendChild(this.f);this.popup=b?b:new Ff(this);c=new Vf;this.nc(c);this.nc(new Xf);this.P=c;this.editor=new Af(this);this.l=new Lf(this.xa,this);this.Lb=new Cf(this,this.element);var d=this;Gf&&(K(this.element,Tf,function(a){a=a.relatedTarget;a&&Mb(d.element,a)||(d.O.fireEvent("onMouseOverItem"),
tb(d.xa,"annotorious-item-unfocus","annotorious-item-focus"))}),K(this.element,Uf,function(a){a=a.relatedTarget;a&&Mb(d.element,a)||(d.O.fireEvent("onMouseOutOfItem"),tb(d.xa,"annotorious-item-focus","annotorious-item-unfocus"))}));If(this,Sf?this.f:this.xa);this.O.addHandler("onSelectionCompleted",function(a){var b=a.viewportBounds;d.editor.setPosition(new T(b.left+d.C.offsetLeft,b.bottom+4+d.C.offsetTop));d.editor.open(!1,a)});this.O.addHandler("onSelectionCanceled",function(){Gf&&R(d.f,!1);d.P.stopSelection()})}
t(Zf,Hf);function $f(a,b){function c(c,d){M(b,"margin-"+c,d+"px");M(a,"margin-"+c,0);M(a,"padding-"+c,0)}var d=$c(a,"margin"),e=$c(a,"padding");0==d.top&&0==e.top||c("top",d.top+e.top);0==d.right&&0==e.right||c("right",d.right+e.right);0==d.bottom&&0==e.bottom||c("bottom",d.bottom+e.bottom);0==d.left&&0==e.left||c("left",d.left+e.left)}n=Zf.prototype;n.ya=f();n.nc=function(a){a.init(this,this.f);this.Fa.push(a)};
n.destroy=function(){var a=this.C;a.style.margin=this.Nd.margin;a.style.padding=this.Nd.padding;Jb(a,this.element)};
n.hd=function(a){this.l.T(a);var b=Fa(this.Fa,function(b){b=b.getSupportedShapeType();return Array.isArray(b)?-1!=Ba(b,a.shapes[0].type):b==a.shapes[0].type}),c=a.shapes[0],d=this,c="pixel"==c.units?Od(c,function(a){return Qf(d,a)}):Od(c,function(a){return d.eb(a)});if(b){R(this.f,!0);this.l.J(!1);var e=this.f.getContext("2d");b.drawShape(e,c)}b=Md(c).geometry;b=new T(b.x,b.y+b.height);this.editor.setPosition(new T(b.x+this.C.offsetLeft,b.y+4+this.C.offsetTop));this.editor.open(a)};n.Ha=m("P");
n.M=function(){return this.l.M()};n.na=function(a,b){return Ha(this.l.na(a,b))};n.Ia=m("Fa");n.getItem=function(){return{src:ag(this.C),element:this.C}};function ag(a){var b=a.getAttribute("data-original");return b?b:a.src}n.Ba=function(){R(this.xa,!1)};n.Z=function(){this.Qb=!1;this.Lb&&(this.Lb.destroy(),delete this.Lb)};n.Nc=function(a){this.P=Fa(this.Fa,function(b){return b.getName()==a});return this.P?!0:(console.log('WARNING: selector "'+a+'" not available'),!1)};
n.D=function(a){a.hasOwnProperty("displayMessage")&&(this.Gd=a.displayMessage,this.Qb&&(this.Z(),this.da()));a.hasOwnProperty("outputUnits")&&(this.Kc="pixel"==a.outputUnits?"pixel":"fraction");console.log(a);a.hasOwnProperty("drawInsideRectAnno")&&(this.Hd=a.drawInsideRectAnno);a.hasOwnProperty("colorMode")&&this.l.zd(a.colorMode);a.hasOwnProperty("selectEditor")&&Bf(this.editor,a.selectEditor);a.hasOwnProperty("cursorAxes")&&bg(this,a.cursorAxes);a.hasOwnProperty("arrowMode")&&(a.arrowMode?this.Nc("arrow_drag"):
this.Nc("rect_drag"));a.hasOwnProperty("editor")&&this.editor.D(a.editor);a.hasOwnProperty("popup")&&this.popup.D(a.popup);a.hasOwnProperty("fancyBox")&&Wf(Fa(this.Fa,function(a){return"rect_drag"==a.getName()}),a.fancyBox);a.hasOwnProperty("shapeStyle")&&(y(this.Fa,function(b){b.D(a.shapeStyle)}),Pf(this.l))};n.Ra=function(){R(this.xa,!0)};n.da=function(){this.Qb=!0;this.Lb||(this.Lb=new Cf(this,this.element,this.Gd))};n.stopSelection=function(a){Gf&&R(this.f,!1);this.P.stopSelection();a&&this.l.R(a)};
n.eb=function(a){var b=Tc(this.C),c={x:a.x*b.width,y:a.y*b.height};a.width&&(c.width=a.width*b.width,c.height=a.height*b.height);return c};function Qf(a,b){var c=Tc(a.C),d={x:parseInt(b.x/a.C.naturalWidth*c.width),y:parseInt(b.y/a.C.naturalHeight*c.height)};b.width&&(d.width=parseInt(b.width/a.C.naturalWidth*c.width),d.height=parseInt(b.height/a.C.naturalHeight*c.height));return d}
n.Ta=function(a){var b=Tc(this.C),c={x:a.x/b.width,y:a.y/b.height};a.width&&(c.width=a.width/b.width,c.height=a.height/b.height);return c};function Nf(a,b){var c=Tc(a.C),d={x:parseInt(b.x*a.C.naturalWidth/c.width),y:parseInt(b.y*a.C.naturalHeight/c.height)};b.width&&(d.width=parseInt(b.width*a.C.naturalWidth/c.width),d.height=parseInt(b.height*a.C.naturalHeight/c.height));return d}
function bg(a,b){b instanceof Object&&0!==Object.keys(b).length?(b.hasOwnProperty("enabled")&&(a.G.enabled=b.enabled||a.Hb.enabled),b.hasOwnProperty("dash")&&(a.G.gd=b.dash||a.Hb.gd),b.hasOwnProperty("color")&&(a.G.color=b.color||a.Hb.color),b.hasOwnProperty("strokeWidth")&&(a.G.strokeWidth=b.strokeWidth||a.Hb.strokeWidth)):a.G=Object.assign({Q:a.G.Q},a.Hb);if(a.G.enabled){if(!a.G.Q){var c=a.Uc.getContext("2d"),d=function(b){b=Kf(b,a.$e);c.clearRect(0,0,c.canvas.width,c.canvas.height);a.G.gd?c.setLineDash([5,
3]):(c.setLineDash([]),c.lineCap="square");c.strokeStyle=a.G.color;c.lineWidth=a.G.strokeWidth;c.beginPath();c.moveTo(0,b.y);c.lineTo(c.canvas.width,b.y);c.moveTo(b.x,0);c.lineTo(b.x,c.canvas.height);c.stroke()};a.G.Q=[];a.G.Q[0]=K(a.xa,Mf,d);a.G.Q[1]=K(a.f,Mf,d)}}else a.G.Q&&(y(a.G.Q,function(a){L(a)}),c=a.Uc.getContext("2d"),c.clearRect(0,0,c.canvas.width,c.canvas.height),delete a.G.Q)}Zf.prototype.addSelector=Zf.prototype.nc;Zf.prototype.fireEvent=Zf.prototype.fireEvent;
Zf.prototype.setCurrentSelector=Zf.prototype.Nc;Zf.prototype.toItemCoordinates=Zf.prototype.Ta;function cg(){Sd(this,function(){return I("img.annotatable",document)})}t(cg,Rd);cg.prototype.wc=function(a){return ag(a)};cg.prototype.sd=function(a){return new Zf(a)};cg.prototype.Oc=function(a){return Kb(a)?"IMG"==a.tagName:!1};function dg(a){return'\x3cdiv class\x3d"annotorious-opacity-fade" style\x3d"white-space:nowrap; position:absolute; pointer-events:none; top:80px; width:100%; text-align:center;"\x3e\x3cdiv class\x3d"annotorious-ol-hint" style\x3d"width: 400px; margin:0px auto;"\x3e'+uf(a.Ec)+"\x3c/div\x3e\x3c/div\x3e"};function eg(a,b){this.pa=a;this.d=b;this.ka=Vc(b.element);this.r=b.popup;M(this.r.element,"z-index",99E3);this.K=[];this.H=[];this.hc=new OpenLayers.Layer.Boxes("Annotorious");this.pa.addLayer(this.hc);var c=this;this.pa.events.register("move",this.pa,function(){c.w&&c.Nb()});b.addHandler("beforePopupHide",function(){c.Wa==c.w?c.r.clearHideTimer():c.Za(c.Wa,c.w)})}n=eg.prototype;n.destroy=function(){this.hc.destroy()};
n.Nb=function(){var a=this.w.cc.div,b=Vc(a),c=Pc(a,this.pa.div),a=c.y,c=c.x,d=b.width,e=b.height,b=Vc(this.r.element),a={y:a+e+5};c+b.width>this.ka.width?(tb(this.r.element,"top-left","top-right"),a.x=c+d-b.width):(tb(this.r.element,"top-right","top-left"),a.x=c);0>a.x&&(a.x=0);a.x+b.width>this.ka.width&&(a.x=this.ka.width-b.width);a.y+b.height>this.ka.height&&(a.y=this.ka.height-b.height);this.r.setPosition(a)};n.$c=function(a){this.r.setAnnotation(a);this.Nb();this.r.show()};
n.Za=function(a,b){a?(Pc(a.cc.div,this.pa.div),Ic(a.cc.div,"height"),M(a.bc,"border-color","#fff000"),this.w=a,this.$c(a.I)):delete this.w;b&&M(b.bc,"border-color","#fff")};
n.R=function(a){var b=a.shapes[0].geometry,b=new OpenLayers.Marker.Box(new OpenLayers.Bounds(b.x,b.y,b.x+b.width,b.y+b.height));pb(b.div,"annotorious-ol-boxmarker-outer");M(b.div,"border",null);var c=Eb("div","annotorious-ol-boxmarker-inner");Sc(c,"100%","100%");b.div.appendChild(c);var d={I:a,cc:b,bc:c},e=this;K(c,"mouseover",function(){e.w||e.Za(d);e.Wa=d});K(c,"mouseout",function(){delete e.Wa;e.r.startHideTimer()});this.K.push(d);c=a.shapes[0];"pixel"!=c.units&&(c=Od(c,function(a){return e.d.eb(a)}));
this.H[V(a.shapes[0])]=c;Ka(this.K,function(a,b){return Ld(b.I.shapes[0])-Ld(a.I.shapes[0])});var g=1E4;y(this.K,function(a){M(a.cc.div,"z-index",g);g++});this.hc.addMarker(b)};n.T=function(a){var b=Fa(this.K,function(b){return b.I==a});b&&(A(this.K,b),this.hc.removeMarker(b.cc))};n.M=function(){return Da(this.K,function(a){return a.I})};n.J=function(a){a||this.r.startHideTimer()};n.Cd=function(a,b){var c=this.na(a,b);if(0<c.length)return c[0]};
n.na=function(a,b){var c=[],d=this;y(this.K,function(e){e=e.I;Jd(d.H[V(e.shapes[0])],a,b)&&c.push(e)});Ka(c,function(a,b){var c=d.H[V(a.shapes[0])],k=d.H[V(b.shapes[0])];return Ld(c)-Ld(k)});return c};function fg(a){function b(){var a=parseInt(N(d.element,"width"),10),b=parseInt(N(d.element,"height"),10);Sc(d.f,a,b);d.f.width=a;d.f.height=b}this.pa=a;this.element=a.div;var c=Ic(this.element,"position");"absolute"!=c&&"relative"!=c&&M(this.element,"position","relative");this.O=new qd;this.ma=ce(dg,{Ec:"Click and Drag"});M(this.ma,"z-index",9998);Q(this.ma,0);this.element.appendChild(this.ma);this.popup=new Ff(this);this.l=new eg(a,this);this.f=ce(Yf,{width:"0",height:"0"});R(this.f,!1);M(this.f,
"position","absolute");M(this.f,"top","0px");M(this.f,"z-index",9999);this.element.appendChild(this.f);var d=this;b();this.P=new Vf;this.P.init(this,this.f);this.Rb=void 0;this.editor=new Af(this);M(this.editor.element,"z-index",1E4);window.addEventListener?window.addEventListener("resize",b,!1):window.attachEvent&&window.attachEvent("onresize",b);K(this.element,"mouseover",function(a){(a=a.relatedTarget)&&Mb(d.element,a)||d.O.fireEvent("onMouseOverItem")});K(this.element,"mouseout",function(a){(a=
a.relatedTarget)&&Mb(d.element,a)||d.O.fireEvent("onMouseOutOfItem")});K(this.f,"mousedown",function(a){var b=Qc(d.element);d.P.startSelection(a.clientX-b.x,a.clientY-b.y)});this.O.addHandler("onSelectionCompleted",function(a){M(d.f,"pointer-events","none");a=a.viewportBounds;d.editor.setPosition(new T(a.left,a.bottom+4));d.editor.open()});this.O.addHandler("onSelectionCanceled",function(){d.stopSelection()})}t(fg,Hf);n=fg.prototype;n.da=f();n.Z=f();
n.ya=function(a){M(this.f,"pointer-events","auto");var b=this;R(this.f,!0);Q(this.ma,0.8);window.setTimeout(function(){Q(b.ma,0)},2E3);a&&(this.Rb=a)};n.destroy=function(){this.l.destroy();Ib(this.ma);Ib(this.f)};n.nc=f();n.hd=function(a){this.l.T(a);var b=this.P,c=this;if(b){R(this.f,!0);this.l.J(void 0);var d=this.f.getContext("2d"),e=Od(a.shapes[0],function(a){return c.eb(a)});console.log(e);b.drawShape(d,e);b=Md(e).geometry;this.editor.setPosition(new T(b.x,b.y+b.height));this.editor.open(a)}};
n.eb=function(a){var b=this.pa.getViewPortPxFromLonLat(new OpenLayers.LonLat(a.x,a.y));return(a=a.width?this.pa.getViewPortPxFromLonLat(new OpenLayers.LonLat(a.x+a.width,a.y+a.height)):!1)?{x:b.x,y:a.y,width:a.x-b.x+2,height:b.y-a.y+2}:{x:b.x,y:b.y}};n.M=function(){return this.l.M()};n.na=function(a,b){return Ha(this.l.na(a,b))};n.Ia=f();n.getItem=function(){return{src:"map://openlayers/something"}};n.fc=f();
n.Ta=function(a){var b=this.pa.getLonLatFromPixel(new OpenLayers.Pixel(a.x,a.y));return(a=a.width?new OpenLayers.Pixel(a.x+a.width-2,a.y+a.height-2):!1)?(a=this.pa.getLonLatFromPixel(a),b={x:b.lon,y:a.lat,width:a.lon-b.lon,height:b.lat-a.lat},console.log(b),b):{x:b.lon,y:b.lat}};function gg(){Sd(this)}t(gg,Rd);gg.prototype.wc=aa("map://openlayers/something");gg.prototype.sd=function(a){return new fg(a)};gg.prototype.Oc=function(a){return a instanceof OpenLayers.Map};function hg(a,b){this.la=a;this.d=b;this.ka=Vc(a.element);this.r=b.popup;M(this.r.element,"z-index",99E3);this.K=[];var c=this;this.la.addHandler("animation",function(){c.w&&c.Nb()});b.addHandler("onPopupShown",function(){void 0!==c.w&&!1!=c.w&&c.d.fireEvent("onMouseOverAnnotation",c.w.I)});b.addHandler("beforePopupHide",function(){c.Wa==c.w?c.r.clearHideTimer():(c.d.fireEvent("onMouseOutOfAnnotation",c.w.I),c.Za(c.Wa,c.w))})}n=hg.prototype;
n.Nb=function(){var a=this.la.element,b=this.w.Jc,c=Vc(b),b=Pc(b,a),a=b.y,b=b.x,d=c.width,e=c.height,c=Vc(this.r.element),a={x:b,y:a+e+12};tb(this.r.element,"top-right","top-left");this.la.isFullPage()||(b+c.width>this.ka.width&&(tb(this.r.element,"top-left","top-right"),a.x=b+d-c.width),0>a.x&&(a.x=0),a.x+c.width>this.ka.width&&(a.x=this.ka.width-c.width),a.y+c.height>this.ka.height&&(a.y=this.ka.height-c.height));this.r.setPosition(a)};n.$c=function(a){this.r.setAnnotation(a);this.Nb();this.r.show()};
n.Za=function(a,b){a?(M(a.bc,"border-color","#fff000"),this.w=a,this.$c(a.I)):delete this.w;b&&M(b.bc,"border-color","#fff")};
n.R=function(a){var b=a.shapes[0].geometry,c=Eb("div","annotorious-ol-boxmarker-outer"),d=Eb("div","annotorious-ol-boxmarker-inner");Sc(d,"100%","100%");c.appendChild(d);var b=new OpenSeadragon.Rect(b.x,b.y,b.width,b.height),e={I:a,Jc:c,bc:d},g=this;K(d,"mouseover",function(){g.w||g.Za(e);g.Wa=e});K(d,"mouseout",function(){delete g.Wa;g.r.startHideTimer()});this.K.push(e);Ka(this.K,function(a,b){return Ld(b.I.shapes[0])-Ld(a.I.shapes[0])});var h=1;y(this.K,function(a){M(a.Jc,"z-index",h);h++});this.la.addOverlay(c,
b)};n.T=function(a){var b=Fa(this.K,function(b){return b.I==a});b&&(A(this.K,b),this.la.removeOverlay(b.Jc))};n.M=function(){return Da(this.K,function(a){console.log(a);return a.I})};n.J=function(a){var b=this;a?y(this.K,function(c){c.I==a&&(b.w&&b.w!=c?b.Za(c,b.w):b.Za(c))}):this.r.startHideTimer()};n.destroy=function(){var a=this;y(this.K,function(b){a.la.removeOverlay(b.Jc)});this.K=[]};function ig(a){this.element=a.element;M(Ab(),"z-index",0);this.la=a;this.O=new qd;this.Fa=[];this.Qb=!0;this.ma=ce(dg,{Ec:"Click and Drag"});Q(this.ma,0);this.element.appendChild(this.ma);this.popup=new Ff(this);this.l=new hg(a,this);this.f=ce(Yf,{width:"0",height:"0"});R(this.f,!1);this.element.appendChild(this.f);var b=this;(function(){var a=parseInt(N(b.element,"width"),10),d=parseInt(N(b.element,"height"),10);Sc(b.f,a,d);b.f.width=a;b.f.height=d})();a=new Vf;a.init(this,this.f);this.Fa.push(a);
this.P=a;this.editor=new Af(this);If(this,this.f);this.O.addHandler("onSelectionCompleted",function(a){a=a.viewportBounds;b.editor.setPosition(new T(a.left,a.bottom+4));b.editor.open()});this.O.addHandler("onSelectionCanceled",function(){b.stopSelection()})}t(ig,Hf);n=ig.prototype;n.da=f();n.Z=f();n.destroy=function(){this.l.destroy();delete this.l};n.ya=function(a){M(this.f,"pointer-events","auto");var b=this;R(this.f,!0);Q(this.ma,0.8);window.setTimeout(function(){Q(b.ma,0)},2E3);a&&(this.Rb=a)};
n.hd=function(a){this.l.T(a);var b=this.P,c=this;if(b){R(this.f,!0);this.l.J(void 0);var d=this.f.getContext("2d"),e=Od(a.shapes[0],function(a){return c.eb(a)});b.drawShape(d,e);b=Md(e).geometry;this.editor.setPosition(new T(b.x,b.y+b.height+4));this.editor.open(a)}};
n.eb=function(a){var b=nd(this.element);b.top+=window.pageYOffset;b.left+=window.pageXOffset;var c=new OpenSeadragon.Point(a.x,a.y);a=a.width?new OpenSeadragon.Point(a.x+a.width,a.y+a.height):!1;c=this.la.viewport.viewportToWindowCoordinates(c);return a?(a=this.la.viewport.viewportToWindowCoordinates(a),{x:c.x-b.left,y:c.y-b.top,width:a.x-c.x+2,height:a.y-c.y+2}):c};n.M=function(){return this.l.M()};n.Ia=f();n.getItem=function(){return{src:"dzi://openseadragon/something"}};n.fc=f();n.Ha=m("P");
n.Ta=function(a){var b=nd(this.element);b.top+=window.pageYOffset;b.left+=window.pageXOffset;var c=new OpenSeadragon.Point(a.x+b.left,a.y+b.top);a=a.width?new OpenSeadragon.Point(a.x+b.left+a.width-2,a.y+b.top+a.height-2):!1;c=this.la.viewport.windowToViewportCoordinates(c);return a?(a=this.la.viewport.windowToViewportCoordinates(a),{x:c.x,y:c.y,width:a.x-c.x,height:a.y-c.y}):c};function jg(){Sd(this)}t(jg,Rd);jg.prototype.wc=aa("dzi://openseadragon/something");jg.prototype.sd=function(a){return new ig(a)};jg.prototype.Oc=function(a){return a instanceof OpenSeadragon.Ze};function Y(){this.Jd=!1;this.o=[new cg];window.OpenLayers&&this.o.push(new gg);window.OpenSeadragon&&this.o.push(new jg);this.Ob=[];var a=this;od(function(){kg(a)})}function kg(a){a.Jd||(y(a.o,function(a){a.init()}),y(a.Ob,function(b){b.initPlugin&&b.initPlugin(a);y(a.o,function(a){a.mc(b)})}),K(window,"resize",function(){a.reload()}),a.Jd=!0)}function Z(a,b){return Fa(a.o,function(a){return Yd(a,b)})}n=Y.prototype;
n.ya=function(a,b){var c=void 0,d=void 0;q(a)?(c=a,d=b):r(a)&&(d=a);if(c){var e=Z(this,c);e&&e.ya(c,d)}else y(this.o,function(a){a.ya(d)})};n.R=function(a,b){var c;c=a.src;if(!(0<c.indexOf("://"))){var d=document.createElement("a");d.href=c;c=d.protocol+"//"+d.host+d.pathname}c=new Qd(c,a.text,a.shapes[0],a.created_at,a.textId,a.id);c.editable=a.editable;(d=Z(this,c.src))&&d.R(c,b)};n.ze=function(a){if(Array.isArray(a)&&a.length){var b=this;a.forEach(function(a){b.R(a)})}};
n.addHandler=function(a,b){y(this.o,function(c){c.addHandler(a,b)})};n.wa=function(a,b){y(this.o,function(c){c.wa(a,b)})};n.mc=function(a,b){try{var c=new window.annotorious.plugin[a](b);"complete"==document.readyState?(c.initPlugin&&c.initPlugin(this),y(this.o,function(a){a.mc(c)})):this.Ob.push(c)}catch(d){console.log("Could not load plugin: "+a)}};n.destroy=function(a){if(a){var b=Z(this,a);b&&b.destroy(a)}else y(this.o,function(a){a.destroy()})};n.Ha=function(a){var b=Z(this,a);if(b)return b.Ha(a)};
n.M=function(a){if(a){var b=Z(this,a);return b?b.M(a):[]}var c=[];y(this.o,function(a){Ia(c,a.M())});return c};n.Ia=function(a){var b=Z(this,a);return b?b.Ia(a):[]};n.Ba=function(a){if(a){var b=Z(this,a);b&&b.Ba(a)}else y(this.o,function(a){a.Ba()})};n.Z=function(a){if(a){var b=Z(this,a);b&&b.Z(a)}else y(this.o,function(a){a.Z()})};n.stopSelection=function(a){if(a){var b=Z(this,a);b&&b.stopSelection(a)}else y(this.o,function(a){a.stopSelection()})};
n.J=function(a){if(a){var b=Z(this,a.src);b&&b.J(a)}else y(this.o,function(a){a.J()})};n.qd=function(a){kg(this);var b=Fa(this.o,function(b){return b.Oc(a)});if(b)b.qd(a);else throw"Error: Annotorious does not support this media type in the current version or build configuration.";};n.Oa=function(a){var b=this;y(this.M(a),function(a){b.T(a)})};n.T=function(a){var b=Z(this,a.src);b&&b.T(a)};n.reload=function(a){y(this.o,function(b){var c=b.M();a&&$d(b);b.destroy();b.init();y(c,function(a){b.R(a)})})};
n.reset=function(){y(this.o,function(a){$d(a);a.destroy();a.init()})};n.fc=function(a,b){var c=Z(this,a);c&&c.fc(a,b)};n.D=function(a){y(this.o,function(b){b.D(a)})};n.zd=function(a,b,c,d,e){this.D({colorMode:{enabled:a,insideAnno:b,mode:c,color:d,strokeWidth:e}})};n.Ye=function(a,b,c,d){this.D({selectEditor:{enabled:a,options:b,emptyOption:c,customLabel:d}})};n.Ve=function(a,b,c,d){this.D({cursorAxes:{enabled:a,dash:b,color:c,strokeWidth:d}})};n.Te=function(a){this.D({arrowMode:a})};n.Xe=function(a){this.D({fancyBox:a})};
n.Ue=function(a){a?this.da(void 0):this.Z(void 0)};n.Ra=function(a){if(a){var b=Z(this,a);b&&b.Ra(a)}else y(this.o,function(a){a.Ra()})};n.da=function(a){if(a){var b=Z(this,a);b&&b.da(a)}else y(this.o,function(a){a.da()})};window.anno=new Y;Y.prototype.activateSelector=Y.prototype.ya;Y.prototype.addAnnotation=Y.prototype.R;Y.prototype.addHandler=Y.prototype.addHandler;Y.prototype.addPlugin=Y.prototype.mc;Y.prototype.destroy=Y.prototype.destroy;Y.prototype.getActiveSelector=Y.prototype.Ha;Y.prototype.getAnnotations=Y.prototype.M;Y.prototype.getAvailableSelectors=Y.prototype.Ia;Y.prototype.hideAnnotations=Y.prototype.Ba;Y.prototype.hideSelectionWidget=Y.prototype.Z;Y.prototype.highlightAnnotation=Y.prototype.J;
Y.prototype.makeAnnotatable=Y.prototype.qd;Y.prototype.removeAll=Y.prototype.Oa;Y.prototype.removeAnnotation=Y.prototype.T;Y.prototype.reset=Y.prototype.reset;Y.prototype.setActiveSelector=Y.prototype.fc;Y.prototype.setProperties=Y.prototype.D;Y.prototype.showAnnotations=Y.prototype.Ra;Y.prototype.showSelectionWidget=Y.prototype.da;window.annotorious||(window.annotorious={});window.annotorious.plugin||(window.annotorious.plugin={});
window.annotorious.geometry||(window.annotorious.geometry={},window.annotorious.geometry.expand=Nd,window.annotorious.geometry.getBoundingRect=Md);Y.prototype.setSelectionEnabled=Y.prototype.Ue;Y.prototype.reload=Y.prototype.reload;Y.prototype.addAnnotations=Y.prototype.ze;Y.prototype.setColorMode=Y.prototype.zd;Y.prototype.useSelectEditor=Y.prototype.Ye;Y.prototype.showCursorAxes=Y.prototype.Ve;Y.prototype.setArrowMode=Y.prototype.Te;Y.prototype.useFancyBox=Y.prototype.Xe;
